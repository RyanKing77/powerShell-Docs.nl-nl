---
ms.date: 12/12/2018
keywords: DSC, powershell, configuratie en installatie
title: De Local Configuration Manager configureren in eerdere versies van Windows PowerShell
ms.openlocfilehash: cea32c9aa8144bc52f3d44f2ad852f577f6a5e6d
ms.sourcegitcommit: e7445ba8203da304286c591ff513900ad1c244a4
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 04/23/2019
ms.locfileid: "62079605"
---
# <a name="configuring-the-local-configuration-manager-in-previous-versions-of-windows-powershell"></a><span data-ttu-id="3be94-103">De Local Configuration Manager configureren in eerdere versies van Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="3be94-103">Configuring the Local Configuration Manager in Previous Versions of Windows PowerShell</span></span>

><span data-ttu-id="3be94-104">Van toepassing op: Windows PowerShell 4.0</span><span class="sxs-lookup"><span data-stu-id="3be94-104">Applies To: Windows PowerShell 4.0</span></span>

<span data-ttu-id="3be94-105">**Zie voor informatie die betrekking hebben op de Windows PowerShell 5.0 en hoger [de Local Configuration Manager configureren](metaConfig.md).**</span><span class="sxs-lookup"><span data-stu-id="3be94-105">**For information related to Windows PowerShell 5.0 and later, see [Configuring the Local Configuration Manager](metaConfig.md).**</span></span>

<span data-ttu-id="3be94-106">Local Configuration Manager is de Windows PowerShell Desired State Configuration (DSC)-engine.</span><span class="sxs-lookup"><span data-stu-id="3be94-106">Local Configuration Manager is the Windows PowerShell Desired State Configuration (DSC) engine.</span></span>
<span data-ttu-id="3be94-107">Deze wordt uitgevoerd op alle doelknooppunten en is verantwoordelijk voor het aanroepen van de van configuratieresources die zijn opgenomen in een script voor DSC-configuratie.</span><span class="sxs-lookup"><span data-stu-id="3be94-107">It runs on all target nodes, and it is responsible for calling the configuration resources that are included in a DSC configuration script.</span></span>
<span data-ttu-id="3be94-108">In dit onderwerp worden de eigenschappen van de lokale Configuration Manager en wordt beschreven hoe u de Local Configuration Manager-instellingen op een doelknooppunt kunt wijzigen.</span><span class="sxs-lookup"><span data-stu-id="3be94-108">This topic lists the properties of Local Configuration Manager and describes how you can modify the Local Configuration Manager settings on a target node.</span></span>

## <a name="local-configuration-manager-properties"></a><span data-ttu-id="3be94-109">Eigenschappen van lokale Configuration Manager</span><span class="sxs-lookup"><span data-stu-id="3be94-109">Local Configuration Manager properties</span></span>

<span data-ttu-id="3be94-110">Hieronder vindt u de Local Configuration Manager-eigenschappen die u kunt instellen of ophalen.</span><span class="sxs-lookup"><span data-stu-id="3be94-110">The following lists the Local Configuration Manager properties that you can set or retrieve.</span></span>

- <span data-ttu-id="3be94-111">**AllowModuleOverwrite**: Hiermee wordt bepaald of door nieuwe configuraties van de configuration-service wordt gedownload naar de oude overschrijven op het doelknooppunt zijn toegestaan.</span><span class="sxs-lookup"><span data-stu-id="3be94-111">**AllowModuleOverwrite**: Controls whether new configurations downloaded from the configuration service are allowed to overwrite the old ones on the target node.</span></span> <span data-ttu-id="3be94-112">Mogelijke waarden zijn True en False.</span><span class="sxs-lookup"><span data-stu-id="3be94-112">Possible values are True and False.</span></span>
- <span data-ttu-id="3be94-113">**CertificateID**: De vingerafdruk van een certificaat dat wordt gebruikt voor het beveiligen van referenties die zijn doorgegeven in een configuratie.</span><span class="sxs-lookup"><span data-stu-id="3be94-113">**CertificateID**: The thumbprint of a certificate used to secure credentials passed in a configuration.</span></span> <span data-ttu-id="3be94-114">Zie voor meer informatie [wilt voor het beveiligen van referenties in Windows PowerShell Desired State Configuration?](https://blogs.msdn.microsoft.com/powershell/2014/01/31/want-to-secure-credentials-in-windows-powershell-desired-state-configuration/).</span><span class="sxs-lookup"><span data-stu-id="3be94-114">For more information see [Want to secure credentials in Windows PowerShell Desired State Configuration?](https://blogs.msdn.microsoft.com/powershell/2014/01/31/want-to-secure-credentials-in-windows-powershell-desired-state-configuration/).</span></span>
- <span data-ttu-id="3be94-115">**ConfigurationID**: Geeft een GUID die wordt gebruikt voor het ophalen van een specifieke configuratie-bestand van een pull-service.</span><span class="sxs-lookup"><span data-stu-id="3be94-115">**ConfigurationID**: Indicates a GUID which is used to get a particular configuration file from a pull service.</span></span> <span data-ttu-id="3be94-116">De GUID zorgt ervoor dat de juiste configuratie-bestand wordt geopend.</span><span class="sxs-lookup"><span data-stu-id="3be94-116">The GUID ensures that the correct configuration file is accessed.</span></span>
- <span data-ttu-id="3be94-117">**ConfigurationMode**: Hiermee geeft u op hoe de Local Configuration Manager daadwerkelijk geldt de configuratie voor de doelknooppunten.</span><span class="sxs-lookup"><span data-stu-id="3be94-117">**ConfigurationMode**: Specifies how the Local Configuration Manager actually applies the configuration to the target nodes.</span></span> <span data-ttu-id="3be94-118">Het kan duren voordat de volgende waarden:</span><span class="sxs-lookup"><span data-stu-id="3be94-118">It can take the following values:</span></span>
  - <span data-ttu-id="3be94-119">**ApplyOnly**: Met deze optie DSC geldt de configuratie en doet niets meer, tenzij er een nieuwe configuratie wordt gedetecteerd, ofwel door uzelf verzenden van een nieuwe configuratie rechtstreeks naar de doel-knooppunt of als u verbinding met een pull-service en de DSC maakt een nieuwe configuratie detecteert wanneer Er wordt gecontroleerd met de pull-service.</span><span class="sxs-lookup"><span data-stu-id="3be94-119">**ApplyOnly**: With this option, DSC applies the configuration and does nothing further unless a new configuration is detected, either by you sending a new configuration directly to the target node or if you are connecting to a pull service and DSC discovers a new configuration when it checks with the pull service.</span></span> <span data-ttu-id="3be94-120">Als het doelknooppunt configuratie drifts, wordt geen actie ondernomen.</span><span class="sxs-lookup"><span data-stu-id="3be94-120">If the target node’s configuration drifts, no action is taken.</span></span>
  - <span data-ttu-id="3be94-121">**ApplyAndMonitor**: Met deze optie (dit is de standaardinstelling), DSC van toepassing is een nieuwe configuraties of door u rechtstreeks naar het doelknooppunt verzonden of gedetecteerd op een pull-service.</span><span class="sxs-lookup"><span data-stu-id="3be94-121">**ApplyAndMonitor**: With this option (which is the default), DSC applies any new configurations, whether sent by you directly to the target node or discovered on a pull service.</span></span> <span data-ttu-id="3be94-122">Als de configuratie van het doelknooppunt drifts uit het configuratiebestand, rapporteert DSC daarna het verschil in Logboeken.</span><span class="sxs-lookup"><span data-stu-id="3be94-122">Thereafter, if the configuration of the target node drifts from the configuration file, DSC reports the discrepancy in logs.</span></span> <span data-ttu-id="3be94-123">Zie voor meer informatie over DSC-logboekregistratie, [gebeurtenislogboeken met behulp van fouten opsporen in Desired State Configuration](http://blogs.msdn.com/b/powershell/archive/2014/01/03/using-event-logs-to-diagnose-errors-in-desired-state-configuration.aspx).</span><span class="sxs-lookup"><span data-stu-id="3be94-123">For more about DSC logging, see [Using Event Logs to Diagnose Errors in Desired State Configuration](http://blogs.msdn.com/b/powershell/archive/2014/01/03/using-event-logs-to-diagnose-errors-in-desired-state-configuration.aspx).</span></span>
  - <span data-ttu-id="3be94-124">**ApplyAndAutoCorrect**: Met deze optie geldt DSC eventuele nieuwe configuraties of door u rechtstreeks naar het doelknooppunt verzonden of gedetecteerd op een pull-service.</span><span class="sxs-lookup"><span data-stu-id="3be94-124">**ApplyAndAutoCorrect**: With this option, DSC applies any new configurations, whether sent by you directly to the target node or discovered on a pull service.</span></span> <span data-ttu-id="3be94-125">Daarna, als de configuratie van het doelknooppunt drifts uit het configuratiebestand, DSC rapporteert het verschil in Logboeken en vervolgens wordt geprobeerd om aan te passen van de doel-knooppuntconfiguratie te brengen in overeenstemming met het configuratiebestand.</span><span class="sxs-lookup"><span data-stu-id="3be94-125">Thereafter, if the configuration of the target node drifts from the configuration file, DSC reports the discrepancy in logs, and then attempts to adjust the target node configuration to bring in compliance with the configuration file.</span></span>
- <span data-ttu-id="3be94-126">**ConfigurationModeFrequencyMins**: Hiermee geeft u de frequentie (in minuten) waarbinnen de toepassing van de achtergrond van DSC probeert voor het implementeren van de huidige configuratie op het doelknooppunt.</span><span class="sxs-lookup"><span data-stu-id="3be94-126">**ConfigurationModeFrequencyMins**: Represents the frequency (in minutes) at which the background application of DSC attempts to implement the current configuration on the target node.</span></span> <span data-ttu-id="3be94-127">De standaardwaarde is 15.</span><span class="sxs-lookup"><span data-stu-id="3be94-127">The default value is 15.</span></span> <span data-ttu-id="3be94-128">Deze waarde kan worden ingesteld in combinatie met RefreshMode.</span><span class="sxs-lookup"><span data-stu-id="3be94-128">This value can be set in conjunction with RefreshMode.</span></span> <span data-ttu-id="3be94-129">Wanneer RefreshMode is ingesteld op PULL, wordt het doelknooppunt neemt contact op met de configuration-service op basis van een interval dat is ingesteld door RefreshFrequencyMins en downloadt de huidige configuratie.</span><span class="sxs-lookup"><span data-stu-id="3be94-129">When RefreshMode is set to PULL, the target node contacts the configuration service at an interval set by RefreshFrequencyMins and downloads the current configuration.</span></span> <span data-ttu-id="3be94-130">Ongeacht de waarde RefreshMode geldt de engine voor consistentie op basis van het interval instellen door ConfigurationModeFrequencyMins, de meest recente configuratie die is gedownload naar het doelknooppunt.</span><span class="sxs-lookup"><span data-stu-id="3be94-130">Regardless of the RefreshMode value, at the interval set by ConfigurationModeFrequencyMins, the consistency engine applies the latest configuration that was downloaded to the target node.</span></span> <span data-ttu-id="3be94-131">RefreshFrequencyMins moet worden ingesteld op een geheel getal meervoud van ConfigurationModeFrequencyMins.</span><span class="sxs-lookup"><span data-stu-id="3be94-131">RefreshFrequencyMins should be set to an integer multiple of ConfigurationModeFrequencyMins.</span></span>
- <span data-ttu-id="3be94-132">**Referentie**: Geeft aan dat referenties (net als bij Get-Credential) vereist voor toegang tot externe resources, zoals contact opnemen met de configuration-service.</span><span class="sxs-lookup"><span data-stu-id="3be94-132">**Credential**: Indicates credentials (as with Get-Credential) required to access remote resources, such as to contact the configuration service.</span></span>
- <span data-ttu-id="3be94-133">**DownloadManagerCustomData**: Hiermee geeft u een matrix met aangepaste gegevens die specifiek zijn voor het Downloadbeheer.</span><span class="sxs-lookup"><span data-stu-id="3be94-133">**DownloadManagerCustomData**: Represents an array that contains custom data specific to the download manager.</span></span>
- <span data-ttu-id="3be94-134">**DownloadManagerName**: Geeft de naam van de configuratie en de module Downloadbeheer.</span><span class="sxs-lookup"><span data-stu-id="3be94-134">**DownloadManagerName**: Indicates the name of the configuration and module download manager.</span></span>
- <span data-ttu-id="3be94-135">**RebootNodeIfNeeded**: Stel dit in op `$true` om toe te staan van bronnen op te starten op het knooppunt met behulp van de `$global:DSCMachineStatus` vlag.</span><span class="sxs-lookup"><span data-stu-id="3be94-135">**RebootNodeIfNeeded**: Set this to `$true` to allow resources to reboot the Node using the `$global:DSCMachineStatus` flag.</span></span> <span data-ttu-id="3be94-136">Anders moet u handmatig het knooppunt voor de configuratie die vereist dat het opnieuw opstarten.</span><span class="sxs-lookup"><span data-stu-id="3be94-136">Otherwise, you will have to manually reboot the node for any configuration that requires it.</span></span> <span data-ttu-id="3be94-137">De standaardwaarde is `$false`.</span><span class="sxs-lookup"><span data-stu-id="3be94-137">The default value is `$false`.</span></span> <span data-ttu-id="3be94-138">Voor het gebruik van deze instelling als de voorwaarde van een opnieuw opstarten wordt gepubliceerd door iets anders dan DSC (zoals Windows-installatieprogramma), combineert u deze instelling met de [xPendingReboot](https://github.com/powershell/xpendingreboot) module.</span><span class="sxs-lookup"><span data-stu-id="3be94-138">To use this setting when a reboot condition is enacted by something other than DSC (such as Windows Installer), combine this setting with the [xPendingReboot](https://github.com/powershell/xpendingreboot) module.</span></span>
- <span data-ttu-id="3be94-139">**RefreshFrequencyMins**: Gebruikt wanneer u een pull-service hebt ingesteld.</span><span class="sxs-lookup"><span data-stu-id="3be94-139">**RefreshFrequencyMins**: Used when you have set up a pull service.</span></span> <span data-ttu-id="3be94-140">Hiermee geeft u de frequentie (in minuten) waarbinnen de Local Configuration Manager neemt contact op met een pull-service voor het downloaden van de huidige configuratie.</span><span class="sxs-lookup"><span data-stu-id="3be94-140">Represents the frequency (in minutes) at which the Local Configuration Manager contacts a pull service to download the current configuration.</span></span> <span data-ttu-id="3be94-141">Deze waarde kan worden ingesteld in combinatie met ConfigurationModeFrequencyMins.</span><span class="sxs-lookup"><span data-stu-id="3be94-141">This value can be set in conjunction with ConfigurationModeFrequencyMins.</span></span> <span data-ttu-id="3be94-142">Wanneer RefreshMode is ingesteld op PULL, wordt het doelknooppunt neemt contact op met de pull-service op basis van een interval dat is ingesteld door RefreshFrequencyMins en downloadt de huidige configuratie.</span><span class="sxs-lookup"><span data-stu-id="3be94-142">When RefreshMode is set to PULL, the target node contacts the pull service at an interval set by RefreshFrequencyMins and downloads the current configuration.</span></span> <span data-ttu-id="3be94-143">Volgens het interval dat is ingesteld door ConfigurationModeFrequencyMins, geldt de consistentie-engine klikt u vervolgens de meest recente configuratie die is gedownload naar het doelknooppunt.</span><span class="sxs-lookup"><span data-stu-id="3be94-143">At the interval set by ConfigurationModeFrequencyMins, the consistency engine then applies the latest configuration that was downloaded to the target node.</span></span> <span data-ttu-id="3be94-144">Als RefreshFrequencyMins niet is ingesteld op een geheel getal meervoud van ConfigurationModeFrequencyMins, het systeem wordt deze naar boven afronden.</span><span class="sxs-lookup"><span data-stu-id="3be94-144">If RefreshFrequencyMins is not set to an integer multiple of ConfigurationModeFrequencyMins, the system will round it up.</span></span> <span data-ttu-id="3be94-145">De standaardwaarde is 30.</span><span class="sxs-lookup"><span data-stu-id="3be94-145">The default value is 30.</span></span>
- <span data-ttu-id="3be94-146">**RefreshMode**: Mogelijke waarden zijn **Push** (de standaardinstelling) en **Pull**.</span><span class="sxs-lookup"><span data-stu-id="3be94-146">**RefreshMode**: Possible values are **Push** (the default) and **Pull**.</span></span> <span data-ttu-id="3be94-147">In de pushconfiguratie van '', moet u een configuratiebestand op elk doelknooppunt plaatsen met behulp van een clientcomputer.</span><span class="sxs-lookup"><span data-stu-id="3be94-147">In the “push” configuration, you must place a configuration file on each target node, using any client computer.</span></span> <span data-ttu-id="3be94-148">In de modus 'pull', moet u een pull-service voor Local Configuration Manager en neem contact op met toegang tot de configuratiebestanden instellen.</span><span class="sxs-lookup"><span data-stu-id="3be94-148">In the “pull” mode, you must set up a pull service for Local Configuration Manager to contact and access the configuration files.</span></span>

> [!NOTE]
> <span data-ttu-id="3be94-149">De LCM begint de **ConfigurationModeFrequencyMins** cyclus op basis van:</span><span class="sxs-lookup"><span data-stu-id="3be94-149">The LCM starts the **ConfigurationModeFrequencyMins** cycle based on:</span></span>
>
> - <span data-ttu-id="3be94-150">Een nieuwe metaconfig wordt toegepast met behulp van `Set-DscLocalConfigurationManager`</span><span class="sxs-lookup"><span data-stu-id="3be94-150">A new metaconfig is applied using `Set-DscLocalConfigurationManager`</span></span>
> - <span data-ttu-id="3be94-151">Een machine opnieuw opstarten</span><span class="sxs-lookup"><span data-stu-id="3be94-151">A machine restart</span></span>
>
> <span data-ttu-id="3be94-152">Voor een voorwaarde waar de timer tijdens de uitvoering van een crash die binnen 30 seconden worden gedetecteerd en de cyclus wordt opnieuw gestart.</span><span class="sxs-lookup"><span data-stu-id="3be94-152">For any condition where the timer process experiences a crash, that will be detected within 30 seconds and the cycle will be restarted.</span></span>
> <span data-ttu-id="3be94-153">Een gelijktijdige bewerking kan vertragen de cyclus wordt gestart, als de duur van deze bewerking de geconfigureerde cyclus frequentie overschrijdt, de volgende timer niet gestart.</span><span class="sxs-lookup"><span data-stu-id="3be94-153">A concurrent operation could delay the cycle from being started, if the duration of this operation exceeds the configured cycle frequency, the next timer will not start.</span></span>
>
> <span data-ttu-id="3be94-154">Bijvoorbeeld: de metaconfig is geconfigureerd met een pull-frequentie van 15 minuten en een pull-wordt uitgevoerd op T1.</span><span class="sxs-lookup"><span data-stu-id="3be94-154">Example, the metaconfig is configured at a 15 minute pull frequency and a pull occurs at T1.</span></span>  <span data-ttu-id="3be94-155">Het knooppunt voor 16 minuten niet is voltooid.</span><span class="sxs-lookup"><span data-stu-id="3be94-155">The Node does not finish work for 16 minutes.</span></span>  <span data-ttu-id="3be94-156">De eerste 15 minuten cyclus wordt genegeerd en volgende pull bij T1 + 15 + 15 wordt uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="3be94-156">The first 15 minute cycle is ignored, and next pull will happen at T1+15+15.</span></span>

### <a name="example-of-updating-local-configuration-manager-settings"></a><span data-ttu-id="3be94-157">Voorbeeld van de lokale Configuration Manager-instellingen bijwerken</span><span class="sxs-lookup"><span data-stu-id="3be94-157">Example of updating Local Configuration Manager settings</span></span>

<span data-ttu-id="3be94-158">U kunt de Local Configuration Manager-instellingen van een doelknooppunt bijwerken door op te nemen een **LocalConfigurationManager** blokkeren in het knooppunt blok in een configuratiescript, zoals wordt weergegeven in het volgende voorbeeld.</span><span class="sxs-lookup"><span data-stu-id="3be94-158">You can update the Local Configuration Manager settings of a target node by including a **LocalConfigurationManager** block inside the node block in a configuration script, as shown in the following example.</span></span>

```powershell
Configuration ExampleConfig
{
    Node “Server001”
    {
        LocalConfigurationManager
        {
            ConfigurationID = "646e48cb-3082-4a12-9fd9-f71b9a562d4e"
            ConfigurationModeFrequencyMins = 45
            ConfigurationMode = "ApplyAndAutocorrect"
            RefreshMode = "Pull"
            RefreshFrequencyMins = 90
            DownloadManagerName = "WebDownloadManager"
            DownloadManagerCustomData = (@{ServerUrl="https://$PullService/psdscpullserver.svc"})
            CertificateID = "71AA68562316FE3F73536F1096B85D66289ED60E"
            Credential = $cred
            RebootNodeIfNeeded = $true
            AllowModuleOverwrite = $false
        }
# One or more resource blocks can be added here
    }
}

# The following line invokes the configuration and creates a file called Server001.meta.mof at the specified path
ExampleConfig -OutputPath "c:\users\public\dsc"
```

<span data-ttu-id="3be94-159">Het script is uitgevoerd in het vorige voorbeeld, genereert een MOF-bestand dat Hiermee geeft u en de gewenste instellingen worden opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="3be94-159">Running the script in the previous example generates a MOF file that specifies and stores the desired settings.</span></span>
<span data-ttu-id="3be94-160">Als u wilt de instellingen toepast, kunt u de **Set-DscLocalConfigurationManager** cmdlet, zoals weergegeven in het volgende voorbeeld.</span><span class="sxs-lookup"><span data-stu-id="3be94-160">To apply the settings, you can use the **Set-DscLocalConfigurationManager** cmdlet, as shown in the following example.</span></span>

```powershell
Set-DscLocalConfigurationManager -Path "c:\users\public\dsc"
```

> [!NOTE]
> <span data-ttu-id="3be94-161">Voor de **pad** parameter, moet u hetzelfde pad dat u hebt opgegeven voor de **OutputPath** parameter wanneer u de configuratie in het vorige voorbeeld aangeroepen.</span><span class="sxs-lookup"><span data-stu-id="3be94-161">For the **Path** parameter, you must specify the same path that you specified for the **OutputPath** parameter when you invoked the configuration in the previous example.</span></span>

<span data-ttu-id="3be94-162">Als u wilt zien van de huidige instellingen van de lokale Configuration Manager, kunt u de **Get-DscLocalConfigurationManager** cmdlet.</span><span class="sxs-lookup"><span data-stu-id="3be94-162">To see the current Local Configuration Manager settings, you can use the **Get-DscLocalConfigurationManager** cmdlet.</span></span>
<span data-ttu-id="3be94-163">Als u deze cmdlet zonder parameters aanroepen, krijgt het standaard maar de Local Configuration Manager-instellingen voor het knooppunt waarop u deze uitvoeren.</span><span class="sxs-lookup"><span data-stu-id="3be94-163">If you invoke this cmdlet with no parameters, by default it will get the Local Configuration Manager settings for the node on which you run it.</span></span>
<span data-ttu-id="3be94-164">Als u een ander knooppunt, gebruikt u de **CimSession** parameter met deze cmdlet.</span><span class="sxs-lookup"><span data-stu-id="3be94-164">To specify another node, use the **CimSession** parameter with this cmdlet.</span></span>
