---
ms.date: 06/12/2017
ms.topic: conceptual
keywords: wmf,powershell,installeren
contributor: jianyunt, quoctruong
title: Verbeteringen in Pakketbeheer in WMF 5.1
ms.openlocfilehash: 30ef59ed9dc0d56636d85cc6e53523a9a73963a4
ms.sourcegitcommit: e7445ba8203da304286c591ff513900ad1c244a4
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 04/23/2019
ms.locfileid: "62055612"
---
# <a name="improvements-to-package-management-in-wmf-51"></a><span data-ttu-id="08d68-103">Verbeteringen in Pakketbeheer in WMF 5.1</span><span class="sxs-lookup"><span data-stu-id="08d68-103">Improvements to Package Management in WMF 5.1</span></span>

## <a name="improvements-in-packagemanagement"></a><span data-ttu-id="08d68-104">Verbeteringen in Pakketbeheer</span><span class="sxs-lookup"><span data-stu-id="08d68-104">Improvements in PackageManagement</span></span>

<span data-ttu-id="08d68-105">Hier volgen de verbeteringen aangebracht in de WMF 5.1:</span><span class="sxs-lookup"><span data-stu-id="08d68-105">The following are the fixes made in the WMF 5.1:</span></span>

### <a name="version-alias"></a><span data-ttu-id="08d68-106">Versie Alias</span><span class="sxs-lookup"><span data-stu-id="08d68-106">Version Alias</span></span>

<span data-ttu-id="08d68-107">**Scenario**: Als u versie 1.0 of 2.0 van een pakket, P1, dat is geïnstalleerd op uw systeem hebt en u wilt verwijderen van versie 1.0, moet u uitvoeren `Uninstall-Package -Name P1 -Version 1.0` en versie 1.0 om te worden verwijderd na het uitvoeren van de cmdlet verwacht.</span><span class="sxs-lookup"><span data-stu-id="08d68-107">**Scenario**: If you have version 1.0 and 2.0 of a package, P1, installed on your system, and you want to uninstall version 1.0, you would run `Uninstall-Package -Name P1 -Version 1.0` and expect version 1.0 to be uninstalled after running the cmdlet.</span></span> <span data-ttu-id="08d68-108">Maar het resultaat is dat versie 2.0 wordt verwijderd.</span><span class="sxs-lookup"><span data-stu-id="08d68-108">However the result is that version 2.0 gets uninstalled.</span></span>

<span data-ttu-id="08d68-109">Dit gebeurt omdat de `-Version` parameter is een alias van de `-MinimumVersion` parameter.</span><span class="sxs-lookup"><span data-stu-id="08d68-109">This occurs because the `-Version` parameter is an alias of the `-MinimumVersion` parameter.</span></span> <span data-ttu-id="08d68-110">PackageManagement zoekt een gekwalificeerde pakket met de minimale versie van 1.0, retourneert de meest recente versie.</span><span class="sxs-lookup"><span data-stu-id="08d68-110">When PackageManagement is looking for a qualified package with the minimum version of 1.0, it returns the latest version.</span></span> <span data-ttu-id="08d68-111">Dit is verwacht gedrag in de normale gevallen omdat zoeken naar dat de meest recente versie is gewoonlijk het gewenste resultaat.</span><span class="sxs-lookup"><span data-stu-id="08d68-111">This behavior is expected in normal cases because finding the latest version is usually the desired result.</span></span> <span data-ttu-id="08d68-112">Maar deze moet niet van toepassing op de `Uninstall-Package` geval.</span><span class="sxs-lookup"><span data-stu-id="08d68-112">However, it should not apply to the `Uninstall-Package` case.</span></span>

<span data-ttu-id="08d68-113">**Oplossing**: verwijderd `-Version` alias volledig in PackageManagement (ook wel)</span><span class="sxs-lookup"><span data-stu-id="08d68-113">**Solution**:removed `-Version` alias entirely in PackageManagement (a.k.a.</span></span> <span data-ttu-id="08d68-114">OneGet) en PowerShellGet.</span><span class="sxs-lookup"><span data-stu-id="08d68-114">OneGet) and PowerShellGet.</span></span>

### <a name="multiple-prompts-for-bootstrapping-the-nuget-provider"></a><span data-ttu-id="08d68-115">Meerdere aanwijzingen voor het opstarten van het NuGet-provider</span><span class="sxs-lookup"><span data-stu-id="08d68-115">Multiple prompts for bootstrapping the NuGet provider</span></span>

<span data-ttu-id="08d68-116">**Scenario**: Bij het uitvoeren van `Find-Module` of `Install-Module` of andere PackageManagement-cmdlets voor de eerste keer PackageManagement op de computer probeert te starten van de NuGet-provider.</span><span class="sxs-lookup"><span data-stu-id="08d68-116">**Scenario**: When you run `Find-Module` or `Install-Module` or other PackageManagement cmdlets on your computer for the first time, PackageManagement tries to bootstrap the NuGet provider.</span></span> <span data-ttu-id="08d68-117">Dit gebeurt omdat de PowerShellGet-provider ook het NuGet-provider wordt gebruikt voor het downloaden van de PowerShell-modules.</span><span class="sxs-lookup"><span data-stu-id="08d68-117">It does this because the PowerShellGet provider also uses the NuGet provider to download PowerShell modules.</span></span> <span data-ttu-id="08d68-118">PackageManagement vraagt vervolgens de gebruiker om toestemming voor het installeren van de NuGet-provider.</span><span class="sxs-lookup"><span data-stu-id="08d68-118">PackageManagement then prompts the user for permission to install the NuGet provider.</span></span> <span data-ttu-id="08d68-119">Nadat de gebruiker 'Ja' voor het uitvoeren van de bootstrap selecteert, wordt de meest recente versie van de NuGet-provider worden geïnstalleerd.</span><span class="sxs-lookup"><span data-stu-id="08d68-119">After the user selects "yes" for the bootstrapping, the latest version of the NuGet provider will be installed.</span></span>

<span data-ttu-id="08d68-120">Echter, in sommige gevallen, wanneer u een oude versie van NuGet-provider is geïnstalleerd op uw computer hebt soms de oudere versie van NuGet opgehaald geladen eerst in de PowerShell-sessie (dat wil zeggen de racevoorwaarde in PackageManagement).</span><span class="sxs-lookup"><span data-stu-id="08d68-120">However, in some cases, when you have an old version of NuGet provider installed on your computer, the older version of NuGet sometimes gets loaded first into the PowerShell session (that's the race condition in PackageManagement).</span></span> <span data-ttu-id="08d68-121">PowerShellGet vereist echter de nieuwere versie van het NuGet-provider om te werken, zodat PowerShellGet PackageManagement opnieuw opstarten van het NuGet-provider wordt gevraagd.</span><span class="sxs-lookup"><span data-stu-id="08d68-121">However PowerShellGet requires the later version of the NuGet provider to work, so PowerShellGet asks PackageManagement to bootstrap the NuGet provider again.</span></span> <span data-ttu-id="08d68-122">Dit resulteert in meerdere stappen voor het opstarten van het NuGet-provider.</span><span class="sxs-lookup"><span data-stu-id="08d68-122">This results in multiple prompts for bootstrapping the NuGet provider.</span></span>

<span data-ttu-id="08d68-123">**Oplossing**: PackageManagement geladen in WMF5.1, de meest recente versie van de NuGet-provider om te voorkomen dat meerdere aanwijzingen voor het opstarten van het NuGet-provider.</span><span class="sxs-lookup"><span data-stu-id="08d68-123">**Solution**: In WMF5.1, PackageManagement loads the latest version of the NuGet provider to avoid multiple prompts for bootstrapping the NuGet provider.</span></span>

<span data-ttu-id="08d68-124">U kunt ook omzeilen dit probleem door de oude versie van het NuGet-provider (NuGet-Anycpu.exe) handmatig te verwijderen als bestaat uit $env: ProgramFiles\PackageManagement\ProviderAssemblies $env: LOCALAPPDATA\PackageManagement\ProviderAssemblies</span><span class="sxs-lookup"><span data-stu-id="08d68-124">You could also work around this issue by manually deleting the old version of the NuGet provider (NuGet-Anycpu.exe) if exists from $env:ProgramFiles\PackageManagement\ProviderAssemblies $env:LOCALAPPDATA\PackageManagement\ProviderAssemblies</span></span>


### <a name="support-for-packagemanagement-on-computers-with-intranet-access-only"></a><span data-ttu-id="08d68-125">Ondersteuning voor PackageManagement op computers met alleen toegang tot Intranet</span><span class="sxs-lookup"><span data-stu-id="08d68-125">Support for PackageManagement on computers with Intranet access only</span></span>

<span data-ttu-id="08d68-126">**Scenario**: Voor het enterprise-scenario, mensen werken in een omgeving waarbij er geen toegang tot Internet, maar Intranet alleen.</span><span class="sxs-lookup"><span data-stu-id="08d68-126">**Scenario**: For the enterprise scenario, people are working under an environment where there is no Internet access but Intranet only.</span></span> <span data-ttu-id="08d68-127">PackageManagement heeft geen ondersteuning voor deze aanvraag in WMF 5.0.</span><span class="sxs-lookup"><span data-stu-id="08d68-127">PackageManagement did not support this case in WMF 5.0.</span></span>

<span data-ttu-id="08d68-128">**Scenario**: In WMF 5.0 PackageManagement bieden geen ondersteuning voor computers die alleen Intranet (maar niet met Internet) hebben toegang.</span><span class="sxs-lookup"><span data-stu-id="08d68-128">**Scenario**: In WMF 5.0, PackageManagement did not support computers that have only Intranet (but not Internet) access.</span></span>

<span data-ttu-id="08d68-129">**Oplossing**: In WMF 5.1, kunt u deze stappen om toe te staan intranetcomputers PackageManagement gebruiken:</span><span class="sxs-lookup"><span data-stu-id="08d68-129">**Solution**: In WMF 5.1, you can follow these steps to allow Intranet computers to use PackageManagement:</span></span>

1. <span data-ttu-id="08d68-130">Download het NuGet-provider met behulp van een andere computer met een internetverbinding met behulp van `Install-PackageProvider -Name NuGet`.</span><span class="sxs-lookup"><span data-stu-id="08d68-130">Download the NuGet provider using another computer that has an Internet connection by using `Install-PackageProvider -Name NuGet`.</span></span>

2. <span data-ttu-id="08d68-131">Zoek het NuGet-provider onder `$env:ProgramFiles\PackageManagement\ProviderAssemblies\nuget` of `$env:LOCALAPPDATA\PackageManagement\ProviderAssemblies\nuget`.</span><span class="sxs-lookup"><span data-stu-id="08d68-131">Find the NuGet provider under either `$env:ProgramFiles\PackageManagement\ProviderAssemblies\nuget`  or  `$env:LOCALAPPDATA\PackageManagement\ProviderAssemblies\nuget`.</span></span>

3. <span data-ttu-id="08d68-132">De binaire bestanden kopiëren naar een map of sharelocatie die de Intranet-computer kan toegang krijgen tot, en installeer het NuGet-provider met `Install-PackageProvider -Name NuGet -Source <Path to folder>`.</span><span class="sxs-lookup"><span data-stu-id="08d68-132">Copy the binaries to a folder or network share location that the Intranet computer can access, and then install the NuGet provider with `Install-PackageProvider -Name NuGet -Source <Path to folder>`.</span></span>


### <a name="event-logging-improvements"></a><span data-ttu-id="08d68-133">Verbeteringen in de gebeurtenis vastleggen</span><span class="sxs-lookup"><span data-stu-id="08d68-133">Event logging improvements</span></span>

<span data-ttu-id="08d68-134">Wanneer u pakketten installeert, wijzigt u de status van de computer.</span><span class="sxs-lookup"><span data-stu-id="08d68-134">When you install packages, you are changing the state of the computer.</span></span> <span data-ttu-id="08d68-135">In WMF 5.1, PackageManagement nu legt gebeurtenissen vast in het Windows-gebeurtenislogboek voor `Install-Package`, `Uninstall-Package`, en `Save-Package` activiteiten.</span><span class="sxs-lookup"><span data-stu-id="08d68-135">In WMF 5.1, PackageManagement now logs events to the Windows event log for `Install-Package`, `Uninstall-Package`, and `Save-Package` activities.</span></span> <span data-ttu-id="08d68-136">Het gebeurtenislogboek is dezelfde als die voor PowerShell, dat wil zeggen, `Microsoft-Windows-PowerShell, Operational`.</span><span class="sxs-lookup"><span data-stu-id="08d68-136">The Event log  is the same as for PowerShell, that is, `Microsoft-Windows-PowerShell, Operational`.</span></span>

### <a name="support-for-basic-authentication"></a><span data-ttu-id="08d68-137">Ondersteuning voor basisverificatie</span><span class="sxs-lookup"><span data-stu-id="08d68-137">Support for basic authentication</span></span>

<span data-ttu-id="08d68-138">PackageManagement ondersteunt in WMF 5.1, zoeken en installeren van pakketten vanuit een opslagplaats die hiervoor is basisauthenticatie vereist.</span><span class="sxs-lookup"><span data-stu-id="08d68-138">In WMF 5.1, PackageManagement supports finding and installing packages from a repository that requires basic authentication.</span></span> <span data-ttu-id="08d68-139">U kunt uw referenties opgeven de `Find-Package` en `Install-Package` cmdlets.</span><span class="sxs-lookup"><span data-stu-id="08d68-139">You can supply your credentials to the `Find-Package` and `Install-Package` cmdlets.</span></span> <span data-ttu-id="08d68-140">Bijvoorbeeld:</span><span class="sxs-lookup"><span data-stu-id="08d68-140">For example:</span></span>

``` PowerShell
Find-Package -Source <SourceWithCredential> -Credential (Get-Credential)
```

### <a name="support-for-using-packagemanagement-behind-a-proxy"></a><span data-ttu-id="08d68-141">Ondersteuning voor het gebruik van PackageManagement achter een proxy</span><span class="sxs-lookup"><span data-stu-id="08d68-141">Support for using PackageManagement behind a proxy</span></span>

<span data-ttu-id="08d68-142">In WMF 5.1, PackageManagement duurt nu nog maar de proxyparameters voor de nieuwe `-ProxyCredential` en `-Proxy`.</span><span class="sxs-lookup"><span data-stu-id="08d68-142">In WMF 5.1, PackageManagement now takes new proxy parameters `-ProxyCredential` and `-Proxy`.</span></span> <span data-ttu-id="08d68-143">Met behulp van deze parameters, kunt u de proxy-URL en referenties voor PackageManagement-cmdlets.</span><span class="sxs-lookup"><span data-stu-id="08d68-143">Using these parameters, you can specify the proxy URL and credentials to PackageManagement cmdlets.</span></span> <span data-ttu-id="08d68-144">Standaard worden systeem proxy-instellingen gebruikt.</span><span class="sxs-lookup"><span data-stu-id="08d68-144">By default, system proxy settings are used.</span></span> <span data-ttu-id="08d68-145">Bijvoorbeeld:</span><span class="sxs-lookup"><span data-stu-id="08d68-145">For example:</span></span>

``` PowerShell
Find-Package -Source http://www.nuget.org/api/v2/ -Proxy http://www.myproxyserver.com -ProxyCredential (Get-Credential)
```
