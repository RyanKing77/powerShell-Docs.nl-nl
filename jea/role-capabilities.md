---
ms.date: 07/10/2019
keywords: jea, powershell, beveiliging
title: Rolmogelijkheden JEA
ms.openlocfilehash: 7191b90e198ffb539da6870a8ddc3e449ad9e8ae
ms.sourcegitcommit: 46bebe692689ebedfe65ff2c828fe666b443198d
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 07/10/2019
ms.locfileid: "67726602"
---
# <a name="jea-role-capabilities"></a><span data-ttu-id="4c61b-103">Rolmogelijkheden JEA</span><span class="sxs-lookup"><span data-stu-id="4c61b-103">JEA Role Capabilities</span></span>

<span data-ttu-id="4c61b-104">Bij het maken van een JEA-eindpunt, moet u definiëren een of meer rolmogelijkheden waarin wordt beschreven wat iemand in een JEA-sessie kunt doen.</span><span class="sxs-lookup"><span data-stu-id="4c61b-104">When creating a JEA endpoint, you need to define one or more role capabilities that describe what someone can do in a JEA session.</span></span> <span data-ttu-id="4c61b-105">De mogelijkheid van een rol is een PowerShell-gegevensbestand met de `.psrc` extensie met een lijst met alle cmdlets, functies, -providers en externe programma's die beschikbaar worden gesteld aan gebruikers verbinding te maken.</span><span class="sxs-lookup"><span data-stu-id="4c61b-105">A role capability is a PowerShell data file with the `.psrc` extension that lists all the cmdlets, functions, providers, and external programs that are made available to connecting users.</span></span>

## <a name="determine-which-commands-to-allow"></a><span data-ttu-id="4c61b-106">Bepalen welke opdrachten om toe te staan</span><span class="sxs-lookup"><span data-stu-id="4c61b-106">Determine which commands to allow</span></span>

<span data-ttu-id="4c61b-107">De eerste stap bij het maken van een bestand van rol mogelijkheid is om te overwegen wat de gebruikers moeten toegang hebben tot.</span><span class="sxs-lookup"><span data-stu-id="4c61b-107">The first step in creating a role capability file is to consider what the users need access to.</span></span> <span data-ttu-id="4c61b-108">Even kunnen duren voordat de vereisten voor proces voor het verzamelen, maar het is een belangrijk proces.</span><span class="sxs-lookup"><span data-stu-id="4c61b-108">The requirements gathering process can take a while, but it's an important process.</span></span> <span data-ttu-id="4c61b-109">Gebruikers toegang geven tot te weinig cmdlets en -functies kunt voorkomen dat ze aan hun werk gedaan te krijgen.</span><span class="sxs-lookup"><span data-stu-id="4c61b-109">Giving users access to too few cmdlets and functions can prevent them from getting their job done.</span></span> <span data-ttu-id="4c61b-110">Toestaan van toegang tot te veel cmdlets en functies kan gebruikers toestaan om meer dan u bedoeld en uw beveiliging virtualisatieproducten verzwakken te doen.</span><span class="sxs-lookup"><span data-stu-id="4c61b-110">Allowing access to too many cmdlets and functions can allow users to do more than you intended and weaken your security stance.</span></span>

<span data-ttu-id="4c61b-111">Hoe u over dit proces gaat, is afhankelijk van uw organisatie en doelstellingen.</span><span class="sxs-lookup"><span data-stu-id="4c61b-111">How you go about this process depends on your organization and goals.</span></span> <span data-ttu-id="4c61b-112">De volgende tips kunnen helpen Zorg ervoor dat u op de juiste weg bent.</span><span class="sxs-lookup"><span data-stu-id="4c61b-112">The following tips can help ensure you're on the right path.</span></span>

1. <span data-ttu-id="4c61b-113">**Identificeer** de gebruikers opdrachten wordt gebruikt om hun werk te doen.</span><span class="sxs-lookup"><span data-stu-id="4c61b-113">**Identify** the commands users are using to get their jobs done.</span></span> <span data-ttu-id="4c61b-114">Hierbij kan het controleren van IT-personeel, automatiseringsscripts controleren of Transcripten van PowerShell-sessie en logboeken analyseren.</span><span class="sxs-lookup"><span data-stu-id="4c61b-114">This may involve surveying IT staff, checking automation scripts, or analyzing PowerShell session transcripts and logs.</span></span>
2. <span data-ttu-id="4c61b-115">**Update** gebruik van opdrachtregelprogramma's voor PowerShell-equivalent, waar mogelijk, voor de beste controle- en JEA aanpassing ervaring.</span><span class="sxs-lookup"><span data-stu-id="4c61b-115">**Update** use of command-line tools to PowerShell equivalents, where possible, for the best auditing and JEA customization experience.</span></span> <span data-ttu-id="4c61b-116">Externe programma's kunnen niet worden beperkt als granulair als systeemeigen PowerShell-cmdlets en functies in JEA.</span><span class="sxs-lookup"><span data-stu-id="4c61b-116">External programs can't be constrained as granularly as native PowerShell cmdlets and functions in JEA.</span></span>
3. <span data-ttu-id="4c61b-117">**Beperken** het bereik van de cmdlets toe te staan dat bepaalde parameters of parameterwaarden.</span><span class="sxs-lookup"><span data-stu-id="4c61b-117">**Restrict** the scope of the cmdlets to only allow specific parameters or parameter values.</span></span> <span data-ttu-id="4c61b-118">Dit is vooral belangrijk als gebruikers alleen deel uitmaken van een systeem te beheren.</span><span class="sxs-lookup"><span data-stu-id="4c61b-118">This is especially important if users should manage only part of a system.</span></span>
4. <span data-ttu-id="4c61b-119">**Maak** aangepaste functies om complexe opdrachten of opdrachten die moeilijk te beperken in JEA te vervangen.</span><span class="sxs-lookup"><span data-stu-id="4c61b-119">**Create** custom functions to replace complex commands or commands that are difficult to constrain in JEA.</span></span> <span data-ttu-id="4c61b-120">Een eenvoudige functie die loopt van een complexe opdracht of toepassing van extra validatielogica kan bieden extra controle voor het gemak van beheerders en eindgebruikers.</span><span class="sxs-lookup"><span data-stu-id="4c61b-120">A simple function that wraps a complex command or applies additional validation logic can offer additional control for admins and end-user simplicity.</span></span>
5. <span data-ttu-id="4c61b-121">**Test** binnen het bereik de lijst met toegestane opdrachten door uw gebruikers of services, automation, en pas deze zo nodig.</span><span class="sxs-lookup"><span data-stu-id="4c61b-121">**Test** the scoped list of allowable commands with your users or automation services, and adjust as necessary.</span></span>

### <a name="examples-of-potentially-dangerous-commands"></a><span data-ttu-id="4c61b-122">Voorbeelden van mogelijk schadelijke opdrachten</span><span class="sxs-lookup"><span data-stu-id="4c61b-122">Examples of potentially dangerous commands</span></span>

<span data-ttu-id="4c61b-123">Zorg ervoor dat de selectie van opdrachten is het belangrijk om te controleren of de JEA-eindpunt niet toestaan dat de gebruiker hun machtigingen met verhoogde bevoegdheden.</span><span class="sxs-lookup"><span data-stu-id="4c61b-123">Careful selection of commands is important to ensure the JEA endpoint doesn't allow the user to elevate their permissions.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="4c61b-124">Essentiële informatie die nodig zijn voor de gebruiker successCommands in een JEA-sessie worden vaak uitgevoerd met verhoogde bevoegdheden.</span><span class="sxs-lookup"><span data-stu-id="4c61b-124">Essential information required for user successCommands in a JEA session are often run with elevated privileges.</span></span>

<span data-ttu-id="4c61b-125">De volgende tabel bevat voorbeelden van opdrachten die kunnen worden gebruikt opzettelijk als toegestaan in een onbeperkte status.</span><span class="sxs-lookup"><span data-stu-id="4c61b-125">The following table contains examples of commands that can be used maliciously if allowed in an unconstrained state.</span></span> <span data-ttu-id="4c61b-126">Dit is niet een volledige lijst en mag alleen worden gebruikt als een ook beginpunt.</span><span class="sxs-lookup"><span data-stu-id="4c61b-126">This isn't an exhaustive list and should only be used as a cautionary starting point.</span></span>

|                                            <span data-ttu-id="4c61b-127">Risico 's</span><span class="sxs-lookup"><span data-stu-id="4c61b-127">Risk</span></span>                                            |                                <span data-ttu-id="4c61b-128">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="4c61b-128">Example</span></span>                                |                                                                              <span data-ttu-id="4c61b-129">Gerelateerde opdrachten</span><span class="sxs-lookup"><span data-stu-id="4c61b-129">Related commands</span></span>                                                                              |
| ------------------------------------------------------------------------------------------ | --------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="4c61b-130">Verlenen van de gebruiker die verbinding maakt beheerdersbevoegdheden voor het overslaan van JEA</span><span class="sxs-lookup"><span data-stu-id="4c61b-130">Granting the connecting user admin privileges to bypass JEA</span></span>                                | `Add-LocalGroupMember -Member 'CONTOSO\jdoe' -Group 'Administrators'` | <span data-ttu-id="4c61b-131">`Add-ADGroupMember`, `Add-LocalGroupMember`, `net.exe`, `dsadd.exe`</span><span class="sxs-lookup"><span data-stu-id="4c61b-131">`Add-ADGroupMember`, `Add-LocalGroupMember`, `net.exe`, `dsadd.exe`</span></span>                                                                                                        |
| <span data-ttu-id="4c61b-132">Uitvoeren van willekeurige code, zoals malware, aanvallen of aangepaste scripts te omzeilen: beveiliging</span><span class="sxs-lookup"><span data-stu-id="4c61b-132">Running arbitrary code, such as malware, exploits, or custom scripts to bypass protections</span></span> | `Start-Process -FilePath '\\san\share\malware.exe'`                   | <span data-ttu-id="4c61b-133">`Start-Process`, `New-Service`, `Invoke-Item`, `Invoke-WmiMethod`, `Invoke-CimMethod`, `Invoke-Expression`, `Invoke-Command`, `New-ScheduledTask`, `Register-ScheduledJob`</span><span class="sxs-lookup"><span data-stu-id="4c61b-133">`Start-Process`, `New-Service`, `Invoke-Item`, `Invoke-WmiMethod`, `Invoke-CimMethod`, `Invoke-Expression`, `Invoke-Command`, `New-ScheduledTask`, `Register-ScheduledJob`</span></span> |

## <a name="create-a-role-capability-file"></a><span data-ttu-id="4c61b-134">Maak een bestand van de mogelijkheid rol</span><span class="sxs-lookup"><span data-stu-id="4c61b-134">Create a role capability file</span></span>

<span data-ttu-id="4c61b-135">Kunt u een nieuw bestand rol mogelijkheid PowerShell met de [New-PSRoleCapabilityFile](/powershell/module/microsoft.powershell.core/new-psrolecapabilityfile?view=powershell-6) cmdlet.</span><span class="sxs-lookup"><span data-stu-id="4c61b-135">You can create a new PowerShell role capability file with the [New-PSRoleCapabilityFile](/powershell/module/microsoft.powershell.core/new-psrolecapabilityfile?view=powershell-6) cmdlet.</span></span>

```powershell
New-PSRoleCapabilityFile -Path .\MyFirstJEARole.psrc
```

<span data-ttu-id="4c61b-136">Het resulterende bestand van de rol-mogelijkheid moet worden bewerkt om toe te staan de opdrachten die vereist zijn voor de rol.</span><span class="sxs-lookup"><span data-stu-id="4c61b-136">The resulting role capability file should be edited to allow the commands required for the role.</span></span> <span data-ttu-id="4c61b-137">De PowerShell-help-documentatie bevat enkele voorbeelden van hoe u het bestand kunt configureren.</span><span class="sxs-lookup"><span data-stu-id="4c61b-137">The PowerShell help documentation contains several examples of how you can configure the file.</span></span>

### <a name="allowing-powershell-cmdlets-and-functions"></a><span data-ttu-id="4c61b-138">PowerShell-cmdlets en-functies</span><span class="sxs-lookup"><span data-stu-id="4c61b-138">Allowing PowerShell cmdlets and functions</span></span>

<span data-ttu-id="4c61b-139">Voor het autoriseren van gebruikers om uit te voeren PowerShell-cmdlets of functies toevoegen de naam van de cmdlet of functie in de velden VisibleCmdlets of VisibleFunctions.</span><span class="sxs-lookup"><span data-stu-id="4c61b-139">To authorize users to run PowerShell cmdlets or functions, add the cmdlet or function name to the VisibleCmdlets or VisibleFunctions fields.</span></span> <span data-ttu-id="4c61b-140">Als u niet zeker weet of een opdracht is een cmdlet of functie, kunt u uitvoeren `Get-Command <name>` en controleer de **CommandType** eigenschap in de uitvoer.</span><span class="sxs-lookup"><span data-stu-id="4c61b-140">If you aren't sure whether a command is a cmdlet or function, you can run `Get-Command <name>` and check the **CommandType** property in the output.</span></span>

```powershell
VisibleCmdlets = 'Restart-Computer', 'Get-NetIPAddress'
```

<span data-ttu-id="4c61b-141">Soms is het bereik van een specifieke cmdlet of de functie is te breed voor de behoeften van uw gebruikers.</span><span class="sxs-lookup"><span data-stu-id="4c61b-141">Sometimes the scope of a specific cmdlet or function is too broad for your users' needs.</span></span> <span data-ttu-id="4c61b-142">Een DNS-beheerder, bijvoorbeeld waarschijnlijk enige behoeften toegang om de DNS-service opnieuw te starten.</span><span class="sxs-lookup"><span data-stu-id="4c61b-142">A DNS admin, for example, probably only needs access to restart the DNS service.</span></span> <span data-ttu-id="4c61b-143">In omgevingen met meerdere tenants hebben tenants toegang tot Self-servicebeheer-hulpprogramma's.</span><span class="sxs-lookup"><span data-stu-id="4c61b-143">In multi-tenant environments, tenants have access to self-service management tools.</span></span> <span data-ttu-id="4c61b-144">Tenants moeten worden beperkt tot het beheren van hun eigen resources.</span><span class="sxs-lookup"><span data-stu-id="4c61b-144">Tenants should be limited to managing their own resources.</span></span> <span data-ttu-id="4c61b-145">Voor deze gevallen kunt u beperken welke parameters beschikbaar worden gesteld van de cmdlet of functie.</span><span class="sxs-lookup"><span data-stu-id="4c61b-145">For these cases, you can restrict which parameters are exposed from the cmdlet or function.</span></span>

```powershell
VisibleCmdlets = @{ Name = 'Restart-Computer'; Parameters = @{ Name = 'Name' }}
```

<span data-ttu-id="4c61b-146">In de meer geavanceerde scenario's moet u mogelijk ook beperkt de waarden die van een gebruiker met deze parameters kan gebruiken.</span><span class="sxs-lookup"><span data-stu-id="4c61b-146">In more advanced scenarios, you may also need to restrict the values a user may use with these parameters.</span></span> <span data-ttu-id="4c61b-147">Rolmogelijkheden kunnen u bij het definiëren van een set waarden of een reguliere-expressiepatroon die bepalen welke invoer is toegestaan.</span><span class="sxs-lookup"><span data-stu-id="4c61b-147">Role capabilities let you define a set of values or a regular expression pattern that determine what input is allowed.</span></span>

```powershell
VisibleCmdlets = @{ Name = 'Restart-Service'; Parameters = @{ Name = 'Name'; ValidateSet = 'Dns', 'Spooler' }},
                 @{ Name = 'Start-Website'; Parameters = @{ Name = 'Name'; ValidatePattern = 'HR_*' }}
```

> [!NOTE]
> <span data-ttu-id="4c61b-148">De [algemene PowerShell-parameters](/powershell/module/microsoft.powershell.core/about/about_commonparameters) zijn altijd toegestaan, zelfs als u de beschikbare parameters beperken.</span><span class="sxs-lookup"><span data-stu-id="4c61b-148">The [common PowerShell parameters](/powershell/module/microsoft.powershell.core/about/about_commonparameters) are always allowed, even if you restrict the available parameters.</span></span>
> <span data-ttu-id="4c61b-149">U dient niet expliciet vermeld in het veld Parameters.</span><span class="sxs-lookup"><span data-stu-id="4c61b-149">You should not explicitly list them in the Parameters field.</span></span>

<span data-ttu-id="4c61b-150">De volgende tabel beschrijft de verschillende manieren waarop u kunt een zichtbaar cmdlet of functie.</span><span class="sxs-lookup"><span data-stu-id="4c61b-150">The table below describes the various ways you can customize a visible cmdlet or function.</span></span>
<span data-ttu-id="4c61b-151">U kunt combineren en matchen een van de hieronder in de **VisibleCmdlets** veld.</span><span class="sxs-lookup"><span data-stu-id="4c61b-151">You can mix and match any of the below in the **VisibleCmdlets** field.</span></span>

|                                           <span data-ttu-id="4c61b-152">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="4c61b-152">Example</span></span>                                           |                                                             <span data-ttu-id="4c61b-153">Use-case</span><span class="sxs-lookup"><span data-stu-id="4c61b-153">Use case</span></span>                                                              |
| ------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="4c61b-154">`'My-Func'` of `@{ Name = 'My-Func' }`</span><span class="sxs-lookup"><span data-stu-id="4c61b-154">`'My-Func'` or `@{ Name = 'My-Func' }`</span></span>                                                      | <span data-ttu-id="4c61b-155">Kan de gebruiker om uit te voeren `My-Func` zonder beperkingen voor de parameters.</span><span class="sxs-lookup"><span data-stu-id="4c61b-155">Allows the user to run `My-Func` without any restrictions on the parameters.</span></span>                                                      |
| `'MyModule\My-Func'`                                                                        | <span data-ttu-id="4c61b-156">Kan de gebruiker om uit te voeren `My-Func` uit de module `MyModule` zonder beperkingen voor de parameters.</span><span class="sxs-lookup"><span data-stu-id="4c61b-156">Allows the user to run `My-Func` from the module `MyModule` without any restrictions on the parameters.</span></span>                           |
| `'My-*'`                                                                                    | <span data-ttu-id="4c61b-157">Kan de gebruiker een cmdlet of de functie uitvoeren met de term `My`.</span><span class="sxs-lookup"><span data-stu-id="4c61b-157">Allows the user to run any cmdlet or function with the verb `My`.</span></span>                                                                 |
| `'*-Func'`                                                                                  | <span data-ttu-id="4c61b-158">Hiermee kan de gebruiker een cmdlet of de functie uitvoeren met het zelfstandig naamwoord `Func`.</span><span class="sxs-lookup"><span data-stu-id="4c61b-158">Allows the user to run any cmdlet or function with the noun `Func`.</span></span>                                                               |
| `@{ Name = 'My-Func'; Parameters = @{ Name = 'Param1'}, @{ Name = 'Param2' }}`              | <span data-ttu-id="4c61b-159">Kan de gebruiker om uit te voeren `My-Func` met de `Param1` en `Param2` parameters.</span><span class="sxs-lookup"><span data-stu-id="4c61b-159">Allows the user to run `My-Func` with the `Param1` and `Param2` parameters.</span></span> <span data-ttu-id="4c61b-160">Elke waarde kan worden opgegeven met de parameters.</span><span class="sxs-lookup"><span data-stu-id="4c61b-160">Any value can be supplied to the parameters.</span></span>          |
| `@{ Name = 'My-Func'; Parameters = @{ Name = 'Param1'; ValidateSet = 'Value1', 'Value2' }}` | <span data-ttu-id="4c61b-161">Kan de gebruiker om uit te voeren `My-Func` met de `Param1` parameter.</span><span class="sxs-lookup"><span data-stu-id="4c61b-161">Allows the user to run `My-Func` with the `Param1` parameter.</span></span> <span data-ttu-id="4c61b-162">Alleen "Value1" en 'Value2' kan worden opgegeven voor de parameter.</span><span class="sxs-lookup"><span data-stu-id="4c61b-162">Only "Value1" and "Value2" can be supplied to the parameter.</span></span>        |
| `@{ Name = 'My-Func'; Parameters = @{ Name = 'Param1'; ValidatePattern = 'contoso.*' }}`    | <span data-ttu-id="4c61b-163">Kan de gebruiker om uit te voeren `My-Func` met de `Param1` parameter.</span><span class="sxs-lookup"><span data-stu-id="4c61b-163">Allows the user to run `My-Func` with the `Param1` parameter.</span></span> <span data-ttu-id="4c61b-164">Een willekeurige waarde beginnen met 'contoso' kan worden opgegeven voor de parameter.</span><span class="sxs-lookup"><span data-stu-id="4c61b-164">Any value starting with "contoso" can be supplied to the parameter.</span></span> |

> [!WARNING]
> <span data-ttu-id="4c61b-165">Het verdient voor aanbevolen procedures voor beveiliging, geen jokertekens gebruiken bij het definiëren van zichtbaar cmdlets of functies.</span><span class="sxs-lookup"><span data-stu-id="4c61b-165">For best security practices, it is not recommended to use wildcards when defining visible cmdlets or functions.</span></span> <span data-ttu-id="4c61b-166">In plaats daarvan moet u elke vertrouwde opdracht om te controleren of er worden geen andere opdrachten die de dezelfde naamgevingsschema delen per ongeluk zijn gemachtigd expliciet vermelden.</span><span class="sxs-lookup"><span data-stu-id="4c61b-166">Instead, you should explicitly list each trusted command to ensure no other commands that share the same naming scheme are unintentionally authorized.</span></span>

<span data-ttu-id="4c61b-167">U kunt geen toepassen beide een **ValidatePattern** en **ValidateSet** naar dezelfde cmdlet of functie.</span><span class="sxs-lookup"><span data-stu-id="4c61b-167">You can't apply both a **ValidatePattern** and **ValidateSet** to the same cmdlet or function.</span></span>

<span data-ttu-id="4c61b-168">Als u dit doet, de **ValidatePattern** overschrijft de **ValidateSet**.</span><span class="sxs-lookup"><span data-stu-id="4c61b-168">If you do, the **ValidatePattern** overrides the **ValidateSet**.</span></span>

<span data-ttu-id="4c61b-169">Voor meer informatie over **ValidatePattern**, Bekijk [dit *Hallo, Scripting Guy!* boeken](https://devblogs.microsoft.com/scripting/validate-powershell-parameters-before-running-the-script/) en de [PowerShell reguliere expressies](/powershell/module/microsoft.powershell.core/about/about_regular_expressions)-referentie-inhoud.</span><span class="sxs-lookup"><span data-stu-id="4c61b-169">For more information about **ValidatePattern**, check out [this *Hey, Scripting Guy!* post](https://devblogs.microsoft.com/scripting/validate-powershell-parameters-before-running-the-script/) and the [PowerShell Regular Expressions](/powershell/module/microsoft.powershell.core/about/about_regular_expressions) reference content.</span></span>

### <a name="allowing-external-commands-and-powershell-scripts"></a><span data-ttu-id="4c61b-170">Externe opdrachten en PowerShell-scripts toestaan</span><span class="sxs-lookup"><span data-stu-id="4c61b-170">Allowing external commands and PowerShell scripts</span></span>

<span data-ttu-id="4c61b-171">Als u wilt toestaan dat gebruikers uitvoerbare bestanden en PowerShell-scripts (.ps1) uitvoeren in een JEA-sessie, u moet het volledige pad toevoegen aan elk programma dat in de **VisibleExternalCommands** veld.</span><span class="sxs-lookup"><span data-stu-id="4c61b-171">To allow users to run executables and PowerShell scripts (.ps1) in a JEA session, you have to add the full path to each program in the **VisibleExternalCommands** field.</span></span>

```powershell
VisibleExternalCommands = 'C:\Windows\System32\whoami.exe', 'C:\Program Files\Contoso\Scripts\UpdateITSoftware.ps1'
```

<span data-ttu-id="4c61b-172">Waar mogelijk, voor het gebruik van PowerShell hebt-cmdlet of functie-equivalenten voor alle externe uitvoerbare bestanden verleent u onbevoegde gebruikers nadat u controle over de parameters die zijn toegestaan met PowerShell-cmdlets en -functies.</span><span class="sxs-lookup"><span data-stu-id="4c61b-172">Where possible, to use PowerShell cmdlet or function equivalents for any external executables you authorize since you have control over the parameters allowed with PowerShell cmdlets and functions.</span></span>

<span data-ttu-id="4c61b-173">Veel uitvoerbare bestanden kunt u lezen van de huidige status en wijzig dit door op te geven van de verschillende parameters.</span><span class="sxs-lookup"><span data-stu-id="4c61b-173">Many executables allow you to read the current state and then change it by providing different parameters.</span></span>

<span data-ttu-id="4c61b-174">Neem bijvoorbeeld de rol van de beheerder van een bestand-server die worden beheerd die worden gehost op een systeem netwerkshares.</span><span class="sxs-lookup"><span data-stu-id="4c61b-174">For example, consider the role of a file server admin that manages network shares hosted on a system.</span></span> <span data-ttu-id="4c61b-175">Het beheren van bestandsshares op één manier is het gebruik `net share`.</span><span class="sxs-lookup"><span data-stu-id="4c61b-175">One way of managing shares is to use `net share`.</span></span> <span data-ttu-id="4c61b-176">Echter, zodat **net.exe** is gevaarlijk omdat de gebruiker de opdracht gebruiken kan om te krijgen van beheerdersbevoegdheden met `net group Administrators unprivilegedjeauser /add`.</span><span class="sxs-lookup"><span data-stu-id="4c61b-176">However, allowing **net.exe** is dangerous because the user could use the command to gain admin privileges with `net group Administrators unprivilegedjeauser /add`.</span></span> <span data-ttu-id="4c61b-177">Een veiliger optie is om toe te staan [Get-SmbShare](/powershell/module/smbshare/get-smbshare), die geven hetzelfde resultaat, maar heeft een zeer meer beperkt bereik.</span><span class="sxs-lookup"><span data-stu-id="4c61b-177">A more secure option is to allow [Get-SmbShare](/powershell/module/smbshare/get-smbshare), which achieves the same result but has a much more limited scope.</span></span>

<span data-ttu-id="4c61b-178">Wanneer u externe opdrachten beschikbaar voor gebruikers in een JEA-sessie gebruiken, moet u altijd het volledige pad naar het uitvoerbare bestand opgeven.</span><span class="sxs-lookup"><span data-stu-id="4c61b-178">When making external commands available to users in a JEA session, always specify the complete path to the executable.</span></span> <span data-ttu-id="4c61b-179">Dit voorkomt dat de uitvoering van op dezelfde manier met de naam mogelijk schadelijke programma's en ergens anders bevinden op het systeem.</span><span class="sxs-lookup"><span data-stu-id="4c61b-179">This prevents the execution of similarly named and potentially malicious programs located elsewhere on the system.</span></span>

### <a name="allowing-access-to-powershell-providers"></a><span data-ttu-id="4c61b-180">Toegang tot de PowerShell-providers</span><span class="sxs-lookup"><span data-stu-id="4c61b-180">Allowing access to PowerShell providers</span></span>

<span data-ttu-id="4c61b-181">Er zijn geen PowerShell-providers zijn standaard beschikbaar in JEA-sessies.</span><span class="sxs-lookup"><span data-stu-id="4c61b-181">By default, no PowerShell providers are available in JEA sessions.</span></span> <span data-ttu-id="4c61b-182">Dit vermindert het risico van gevoelige informatie en configuratie-instellingen die worden doorgegeven aan de gebruiker die verbinding maakt.</span><span class="sxs-lookup"><span data-stu-id="4c61b-182">This reduces the risk of sensitive information and configuration settings being disclosed to the connecting user.</span></span>

<span data-ttu-id="4c61b-183">Indien nodig, kunt u de toegang tot de PowerShell-providers met behulp van de `VisibleProviders` opdracht.</span><span class="sxs-lookup"><span data-stu-id="4c61b-183">When necessary, you can allow access to the PowerShell providers using the `VisibleProviders` command.</span></span> <span data-ttu-id="4c61b-184">Voor een volledige lijst met providers, voert u `Get-PSProvider`.</span><span class="sxs-lookup"><span data-stu-id="4c61b-184">For a full list of providers, run `Get-PSProvider`.</span></span>

```powershell
VisibleProviders = 'Registry'
```

<span data-ttu-id="4c61b-185">Voor eenvoudige taken waarvoor toegang tot het bestandssysteem, register, certificaatarchief of andere gevoelige-providers, kunt u het schrijven van een aangepaste functie die geschikt is voor de provider namens de gebruiker.</span><span class="sxs-lookup"><span data-stu-id="4c61b-185">For simple tasks that require access to the file system, registry, certificate store, or other sensitive providers, consider writing a custom function that works with the provider on the user's behalf.</span></span> <span data-ttu-id="4c61b-186">De functies, -cmdlets en externe programma's die beschikbaar zijn in een JEA-sessie zijn niet afhankelijk van de dezelfde beperkingen als JEA.</span><span class="sxs-lookup"><span data-stu-id="4c61b-186">The functions, cmdlets, and external programs available in a JEA session aren't subject to the same constraints as JEA.</span></span> <span data-ttu-id="4c61b-187">Ze hebben toegang tot alle elke provider van standaard.</span><span class="sxs-lookup"><span data-stu-id="4c61b-187">They can access any provider by default.</span></span> <span data-ttu-id="4c61b-188">Ook kunt u overwegen de [schijf van de gebruiker](session-configurations.md#user-drive) wanneer bestanden zijn gekopieerd naar of van een JEA-eindpunt is vereist.</span><span class="sxs-lookup"><span data-stu-id="4c61b-188">Also consider using the [user drive](session-configurations.md#user-drive) when copying files to or from a JEA endpoint is required.</span></span>

### <a name="creating-custom-functions"></a><span data-ttu-id="4c61b-189">Het maken van aangepaste functies</span><span class="sxs-lookup"><span data-stu-id="4c61b-189">Creating custom functions</span></span>

<span data-ttu-id="4c61b-190">U kunt aangepaste functies in een bestand rol mogelijkheid complexe taken vereenvoudigen voor uw eindgebruikers maken.</span><span class="sxs-lookup"><span data-stu-id="4c61b-190">You can author custom functions in a role capability file to simplify complex tasks for your end users.</span></span> <span data-ttu-id="4c61b-191">Aangepaste functies zijn ook handig wanneer u geavanceerde validatielogica voor cmdlet parameterwaarden vereist.</span><span class="sxs-lookup"><span data-stu-id="4c61b-191">Custom functions are also useful when you require advanced validation logic for cmdlet parameter values.</span></span> <span data-ttu-id="4c61b-192">U kunt eenvoudig functies schrijven in de **FunctionDefinitions** veld:</span><span class="sxs-lookup"><span data-stu-id="4c61b-192">You can write simple functions in the **FunctionDefinitions** field:</span></span>

```powershell
VisibleFunctions = 'Get-TopProcess'

FunctionDefinitions = @{
    Name = 'Get-TopProcess'

    ScriptBlock = {
        param($Count = 10)

        Get-Process | Sort-Object -Property CPU -Descending |
            Microsoft.PowerShell.Utility\Select-Object -First $Count
    }
}
```

> [!IMPORTANT]
> <span data-ttu-id="4c61b-193">Vergeet niet om toe te voegen van de naam van uw aangepaste functies voor de **VisibleFunctions** veld, zodat ze kunnen worden uitgevoerd door de JEA-gebruikers.</span><span class="sxs-lookup"><span data-stu-id="4c61b-193">Don't forget to add the name of your custom functions to the **VisibleFunctions** field so they can be run by the JEA users.</span></span>

<span data-ttu-id="4c61b-194">De hoofdtekst (scriptblok) van aangepaste functies in de standaardmodus voor de taal voor het systeem wordt uitgevoerd en niet is onderworpen aan beperkingen voor de JEA-taal.</span><span class="sxs-lookup"><span data-stu-id="4c61b-194">The body (script block) of custom functions runs in the default language mode for the system and isn't subject to JEA's language constraints.</span></span> <span data-ttu-id="4c61b-195">Dit betekent dat functies kunnen toegang krijgen het bestandssysteem en register tot en uitvoeren van opdrachten die in het bestand van de mogelijkheid rol zichtbaar zijn niet gemaakt.</span><span class="sxs-lookup"><span data-stu-id="4c61b-195">This means that functions can access the file system and registry, and run commands that weren't made visible in the role capability file.</span></span> <span data-ttu-id="4c61b-196">Wees voorzichtig om te voorkomen dat arbitraire code wordt uitgevoerd wanneer met behulp van parameters.</span><span class="sxs-lookup"><span data-stu-id="4c61b-196">Take care to avoid running arbitrary code when using parameters.</span></span> <span data-ttu-id="4c61b-197">Voorkomen dat de invoer van de gebruiker rechtstreeks in de cmdlets, zoals uitvoeromleiding `Invoke-Expression`.</span><span class="sxs-lookup"><span data-stu-id="4c61b-197">Avoid piping user input directly into cmdlets like `Invoke-Expression`.</span></span>

<span data-ttu-id="4c61b-198">In het bovenstaande voorbeeld ziet u dat de naam van de volledig gekwalificeerde module (FQMN) `Microsoft.PowerShell.Utility\Select-Object` is gebruikt in plaats van de steno `Select-Object`.</span><span class="sxs-lookup"><span data-stu-id="4c61b-198">In the above example, notice that the fully qualified module name (FQMN) `Microsoft.PowerShell.Utility\Select-Object` was used instead of the shorthand `Select-Object`.</span></span>
<span data-ttu-id="4c61b-199">Functies die zijn gedefinieerd in de rol mogelijkheid bestanden zijn nog steeds afhankelijk van het bereik van JEA-sessies, waaronder de proxyfuncties JEA wordt gemaakt voor het beperken van bestaande opdrachten.</span><span class="sxs-lookup"><span data-stu-id="4c61b-199">Functions defined in role capability files are still subject to the scope of JEA sessions, which includes the proxy functions JEA creates to constrain existing commands.</span></span>

<span data-ttu-id="4c61b-200">Standaard `Select-Object` is een beperkte cmdlet in alle sessies van JEA waarmee de selectie van eigenschappen van willekeurige voor objecten niet.</span><span class="sxs-lookup"><span data-stu-id="4c61b-200">By default, `Select-Object` is a constrained cmdlet in all JEA sessions that doesn't allow the selection of arbitrary properties on objects.</span></span> <span data-ttu-id="4c61b-201">Gebruik van de onbeperkte `Select-Object` in functies, moet u expliciet de volledige implementatie met behulp van de FQMN aanvragen.</span><span class="sxs-lookup"><span data-stu-id="4c61b-201">To use the unconstrained `Select-Object` in functions, you must explicitly request the full implementation using the FQMN.</span></span> <span data-ttu-id="4c61b-202">Een beperkte cmdlet in een JEA-sessie heeft de dezelfde beperkingen wordt aangeroepen vanuit een functie.</span><span class="sxs-lookup"><span data-stu-id="4c61b-202">Any constrained cmdlet in a JEA session has the same constraints when invoked from a function.</span></span> <span data-ttu-id="4c61b-203">Zie voor meer informatie, [about_Command_Precedence](/powershell/module/microsoft.powershell.core/about/about_command_precedence).</span><span class="sxs-lookup"><span data-stu-id="4c61b-203">For more information, see [about_Command_Precedence](/powershell/module/microsoft.powershell.core/about/about_command_precedence).</span></span>

<span data-ttu-id="4c61b-204">Als u meerdere aangepaste functies schrijft, is het handiger om ze in een PowerShell-script-module.</span><span class="sxs-lookup"><span data-stu-id="4c61b-204">If you're writing several custom functions, it's more convenient to put them in a PowerShell script module.</span></span> <span data-ttu-id="4c61b-205">U deze functies zichtbaar in de JEA-sessie met de **VisibleFunctions** veld, zoals u zou met ingebouwde en door de derde partij modules doen.</span><span class="sxs-lookup"><span data-stu-id="4c61b-205">You make those functions visible in the JEA session using the **VisibleFunctions** field like you would with built-in and third-party modules.</span></span>

<span data-ttu-id="4c61b-206">Tabblad voltooiing werken alleen goed in JEA sessies de ingebouwde functie moet opnemen `tabexpansion2` in de **VisibleFunctions** lijst.</span><span class="sxs-lookup"><span data-stu-id="4c61b-206">For tab completion to work properly in JEA sessions you must include the built-in function `tabexpansion2` in the **VisibleFunctions** list.</span></span>

## <a name="place-role-capabilities-in-a-module"></a><span data-ttu-id="4c61b-207">Rolmogelijkheden plaatsen in een module</span><span class="sxs-lookup"><span data-stu-id="4c61b-207">Place role capabilities in a module</span></span>

<span data-ttu-id="4c61b-208">In de volgorde voor PowerShell om te zoeken naar een bestand van de mogelijkheid rol, moet deze zijn opgeslagen in een **RoleCapabilities** map in een PowerShell-module.</span><span class="sxs-lookup"><span data-stu-id="4c61b-208">In order for PowerShell to find a role capability file, it must be stored in a **RoleCapabilities** folder in a PowerShell module.</span></span> <span data-ttu-id="4c61b-209">De module kan worden opgeslagen in een map die is opgenomen in de `$env:PSModulePath` omgevingsvariabele, maar u mag niet plaats deze in System32 of een map waar de niet-vertrouwde, verbinding te maken van gebruikers kan de bestanden wijzigen.</span><span class="sxs-lookup"><span data-stu-id="4c61b-209">The module can be stored in any folder included in the `$env:PSModulePath` environment variable, however you shouldn't place it in System32 or a folder where the untrusted, connecting users could modify the files.</span></span> <span data-ttu-id="4c61b-210">Hieronder volgt een voorbeeld van het maken van een eenvoudige PowerShell-script-module met de naam **ContosoJEA** in de `$env:ProgramFiles` pad.</span><span class="sxs-lookup"><span data-stu-id="4c61b-210">Below is an example of creating a basic PowerShell script module called **ContosoJEA** in the `$env:ProgramFiles` path.</span></span>

```powershell
# Create a folder for the module
$modulePath = Join-Path $env:ProgramFiles "WindowsPowerShell\Modules\ContosoJEA"
New-Item -ItemType Directory -Path $modulePath

# Create an empty script module and module manifest.
# At least one file in the module folder must have the same name as the folder itself.
New-Item -ItemType File -Path (Join-Path $modulePath "ContosoJEAFunctions.psm1")
New-ModuleManifest -Path (Join-Path $modulePath "ContosoJEA.psd1") -RootModule "ContosoJEAFunctions.psm1"

# Create the RoleCapabilities folder and copy in the PSRC file
$rcFolder = Join-Path $modulePath "RoleCapabilities"
New-Item -ItemType Directory $rcFolder
Copy-Item -Path .\MyFirstJEARole.psrc -Destination $rcFolder
```

<span data-ttu-id="4c61b-211">Zie voor meer informatie over PowerShell-modules, [inzicht krijgen in een PowerShell-Module](/powershell/developer/windows-powershell).</span><span class="sxs-lookup"><span data-stu-id="4c61b-211">For more information about PowerShell modules, see [Understanding a PowerShell Module](/powershell/developer/windows-powershell).</span></span>

## <a name="updating-role-capabilities"></a><span data-ttu-id="4c61b-212">Rolmogelijkheden bijwerken</span><span class="sxs-lookup"><span data-stu-id="4c61b-212">Updating role capabilities</span></span>

<span data-ttu-id="4c61b-213">U kunt een bestand van de rol mogelijkheid voor het bijwerken van de instellingen op elk gewenst moment bewerken.</span><span class="sxs-lookup"><span data-stu-id="4c61b-213">You can edit a role capability file to update the settings at any time.</span></span> <span data-ttu-id="4c61b-214">Een nieuwe JEA-sessies gestart nadat de mogelijkheid van de rol is bijgewerkt, verschijnt op de nieuwe mogelijkheden.</span><span class="sxs-lookup"><span data-stu-id="4c61b-214">Any new JEA sessions started after the role capability has been updated will reflect the revised capabilities.</span></span>

<span data-ttu-id="4c61b-215">Dit is de reden waarom het beheren van toegang tot de map van de mogelijkheden van rol is dus belangrijk.</span><span class="sxs-lookup"><span data-stu-id="4c61b-215">This is why controlling access to the role capabilities folder is so important.</span></span> <span data-ttu-id="4c61b-216">Alleen uiterst vertrouwde beheerders moeten worden toegestaan rol mogelijkheid bestanden te wijzigen.</span><span class="sxs-lookup"><span data-stu-id="4c61b-216">Only highly trusted administrators should be allowed to change role capability files.</span></span> <span data-ttu-id="4c61b-217">Als een niet-vertrouwde gebruiker rol mogelijkheid bestanden wijzigt kan, kunnen ze eenvoudig geven zelf toegang aan de cmdlets waarmee ze zijn bevoegdheden te verhogen.</span><span class="sxs-lookup"><span data-stu-id="4c61b-217">If an untrusted user can change role capability files, they can easily give themselves access to cmdlets that allow them to elevate their privileges.</span></span>

<span data-ttu-id="4c61b-218">Voor beheerders het vergrendelen van toegang tot de rolmogelijkheden wilt, zorg ervoor dat lokaal systeem, leestoegang heeft tot de rol mogelijkheid bestanden en met modules.</span><span class="sxs-lookup"><span data-stu-id="4c61b-218">For administrators looking to lock down access to the role capabilities, ensure Local System has read access to the role capability files and containing modules.</span></span>

## <a name="how-role-capabilities-are-merged"></a><span data-ttu-id="4c61b-219">Hoe rolmogelijkheden worden samengevoegd</span><span class="sxs-lookup"><span data-stu-id="4c61b-219">How role capabilities are merged</span></span>

<span data-ttu-id="4c61b-220">Gebruikers krijgen toegang tot alle overeenkomende rolmogelijkheden in de [sessie configuratiebestand](session-configurations.md) wanneer ze een JEA-sessie invoert.</span><span class="sxs-lookup"><span data-stu-id="4c61b-220">Users are granted access to all matching role capabilities in the [session configuration file](session-configurations.md) when they enter a JEA session.</span></span> <span data-ttu-id="4c61b-221">JEA probeert te geven van de gebruiker de meest strikte reeks opdrachten die zijn toegestaan door een van de rollen.</span><span class="sxs-lookup"><span data-stu-id="4c61b-221">JEA tries to give the user the most permissive set of commands allowed by any of the roles.</span></span>

### <a name="visiblecmdlets-and-visiblefunctions"></a><span data-ttu-id="4c61b-222">VisibleCmdlets en VisibleFunctions</span><span class="sxs-lookup"><span data-stu-id="4c61b-222">VisibleCmdlets and VisibleFunctions</span></span>

<span data-ttu-id="4c61b-223">De meest complexe logica voor het samenvoegen van invloed is op de cmdlets en -functies, waarvoor hun parameters en parameterwaarden in JEA beperkt.</span><span class="sxs-lookup"><span data-stu-id="4c61b-223">The most complex merge logic affects cmdlets and functions, which can have their parameters and parameter values limited in JEA.</span></span>

<span data-ttu-id="4c61b-224">De regels zijn als volgt:</span><span class="sxs-lookup"><span data-stu-id="4c61b-224">The rules are as follows:</span></span>

1. <span data-ttu-id="4c61b-225">Als een cmdlet is alleen zichtbaar zijn in één rol, is het zichtbaar voor de gebruiker met de beperkingen van toepassing parameter.</span><span class="sxs-lookup"><span data-stu-id="4c61b-225">If a cmdlet is only made visible in one role, it is visible to the user with any applicable parameter constraints.</span></span>
2. <span data-ttu-id="4c61b-226">Als een cmdlet is zichtbaar in meer dan één rol, en elke rol de dezelfde beperkingen met betrekking tot de cmdlet heeft, wordt de cmdlet is zichtbaar voor de gebruiker met deze beperkingen.</span><span class="sxs-lookup"><span data-stu-id="4c61b-226">If a cmdlet is made visible in more than one role, and each role has the same constraints on the cmdlet, the cmdlet is visible to the user with those constraints.</span></span>
3. <span data-ttu-id="4c61b-227">Als een cmdlet is zichtbaar in meer dan één rol, en elke rol maakt het mogelijk een andere set parameters, zijn de cmdlet en de parameters die zijn gedefinieerd voor elke rol zichtbaar voor de gebruiker.</span><span class="sxs-lookup"><span data-stu-id="4c61b-227">If a cmdlet is made visible in more than one role, and each role allows a different set of parameters, the cmdlet and all the parameters defined across every role are visible to the user.</span></span>
   <span data-ttu-id="4c61b-228">Als één rol geen beperkingen met betrekking tot de parameters, worden alle parameters zijn toegestaan.</span><span class="sxs-lookup"><span data-stu-id="4c61b-228">If one role doesn't have constraints on the parameters, all parameters are allowed.</span></span>
4. <span data-ttu-id="4c61b-229">Als één rol een set valideren of patroon valideren voor een cmdlet-parameter definieert en de andere rol kunt u de parameter, maar legt geen beperkingen voor de parameterwaarden, wordt de set valideren of het patroon genegeerd.</span><span class="sxs-lookup"><span data-stu-id="4c61b-229">If one role defines a validate set or validate pattern for a cmdlet parameter, and the other role allows the parameter but does not constrain the parameter values, the validate set or pattern is ignored.</span></span>
5. <span data-ttu-id="4c61b-230">Als een set valideren voor de dezelfde cmdlet-parameter in meer dan één rol is gedefinieerd, worden alle waarden uit alle valideren sets zijn toegestaan.</span><span class="sxs-lookup"><span data-stu-id="4c61b-230">If a validate set is defined for the same cmdlet parameter in more than one role, all values from all validate sets are allowed.</span></span>
6. <span data-ttu-id="4c61b-231">Als een patroon valideren voor de dezelfde cmdlet-parameter in meer dan één rol is gedefinieerd, worden alle waarden die overeenkomen met een van de patronen zijn toegestaan.</span><span class="sxs-lookup"><span data-stu-id="4c61b-231">If a validate pattern is defined for the same cmdlet parameter in more than one role, any values that match any of the patterns are allowed.</span></span>
7. <span data-ttu-id="4c61b-232">Als een set valideren is gedefinieerd in een of meer rollen, en een patroon valideren is gedefinieerd in een andere rol voor de dezelfde cmdlet-parameter, de set valideren wordt genegeerd en regel (6) is van toepassing op de resterende valideren patronen.</span><span class="sxs-lookup"><span data-stu-id="4c61b-232">If a validate set is defined in one or more roles, and a validate pattern is defined in another role for the same cmdlet parameter, the validate set is ignored and rule (6) applies to the remaining validate patterns.</span></span>

<span data-ttu-id="4c61b-233">Hieronder volgt een voorbeeld van hoe de functies worden samengevoegd op basis van deze regels:</span><span class="sxs-lookup"><span data-stu-id="4c61b-233">Below is an example of how roles are merged according to these rules:</span></span>

```powershell
# Role A Visible Cmdlets
$roleA = @{
    VisibleCmdlets = 'Get-Service',
                     @{ Name = 'Restart-Service';
                        Parameters = @{ Name = 'DisplayName'; ValidateSet = 'DNS Client' } }
}

# Role B Visible Cmdlets
$roleB = @{
    VisibleCmdlets = @{ Name = 'Get-Service';
                        Parameters = @{ Name = 'DisplayName'; ValidatePattern = 'DNS.*' } },
                     @{ Name = 'Restart-Service';
                        Parameters = @{ Name = 'DisplayName'; ValidateSet = 'DNS Server' } }
}

# Resulting permissions for a user who belongs to both role A and B
# - The constraint in role B for the DisplayName parameter on Get-Service
#   is ignored because of rule #4
# - The ValidateSets for Restart-Service are merged because both roles use
#   ValidateSet on the same parameter per rule #5
$mergedAandB = @{
    VisibleCmdlets = 'Get-Service',
                     @{ Name = 'Restart-Service';
                        Parameters = @{ Name = 'DisplayName'; ValidateSet = 'DNS Client', 'DNS Server' } }
}
```

### <a name="visibleexternalcommands-visiblealiases-visibleproviders-scriptstoprocess"></a><span data-ttu-id="4c61b-234">VisibleExternalCommands, VisibleAliases, VisibleProviders, ScriptsToProcess</span><span class="sxs-lookup"><span data-stu-id="4c61b-234">VisibleExternalCommands, VisibleAliases, VisibleProviders, ScriptsToProcess</span></span>

<span data-ttu-id="4c61b-235">Alle andere velden in het bestand van de mogelijkheid rol worden toegevoegd aan een volledige reeks van toegestane externe opdrachten, aliassen, providers en opstartscripts.</span><span class="sxs-lookup"><span data-stu-id="4c61b-235">All other fields in the role capability file are added to a cumulative set of allowable external commands, aliases, providers, and startup scripts.</span></span> <span data-ttu-id="4c61b-236">Elke opdracht, alias, provider of script beschikbaar is in één rol-functie is beschikbaar voor de JEA-gebruiker.</span><span class="sxs-lookup"><span data-stu-id="4c61b-236">Any command, alias, provider, or script available in one role capability is available to the JEA user.</span></span>

<span data-ttu-id="4c61b-237">Wees voorzichtig om ervoor te zorgen dat de gecombineerde set-providers van een rol mogelijkheden en functies-cmdlets/opdrachten van een andere gebruikers kunnen geen onbedoelde toegang tot systeemresources.</span><span class="sxs-lookup"><span data-stu-id="4c61b-237">Be careful to ensure that the combined set of providers from one role capability and cmdlets/functions/commands from another don't allow users unintentional access to system resources.</span></span>
<span data-ttu-id="4c61b-238">Bijvoorbeeld, als een functie kan de `Remove-Item` cmdlet en andere kunnen de `FileSystem` provider, zijn op een JEA-gebruiker willekeurige bestanden op uw computer verwijderd.</span><span class="sxs-lookup"><span data-stu-id="4c61b-238">For example, if one role allows the `Remove-Item` cmdlet and another allows the `FileSystem` provider, you are at risk of a JEA user deleting arbitrary files on your computer.</span></span> <span data-ttu-id="4c61b-239">Als u meer informatie over het identificeren van de effectieve machtigingen van gebruikers te vinden in de [JEA controle](audit-and-report.md) artikel.</span><span class="sxs-lookup"><span data-stu-id="4c61b-239">Additional information about identifying users' effective permissions can be found in the [auditing JEA](audit-and-report.md) article.</span></span>

## <a name="next-steps"></a><span data-ttu-id="4c61b-240">Volgende stappen</span><span class="sxs-lookup"><span data-stu-id="4c61b-240">Next steps</span></span>

[<span data-ttu-id="4c61b-241">Een sessie-configuratiebestand maken</span><span class="sxs-lookup"><span data-stu-id="4c61b-241">Create a session configuration file</span></span>](session-configurations.md)
