---
ms.date: 2017-10-12
author: eslesar;mgreenegit
ms.topic: conceptual
keywords: DSC, powershell, configuratie, setup
title: Windows PowerShell 4.0 Desired State Configuration Local Configuration Manager (LCM)
ms.openlocfilehash: d46862f9ea0f8e3206c596af7232160fc4a97939
ms.sourcegitcommit: 9a5da3f739b1eebb81ede58bd4fc8037bad87224
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 10/16/2017
---
# <a name="windows-powershell-40-desired-state-configuration-local-configuration-manager-lcm"></a><span data-ttu-id="b1b10-103">Windows PowerShell 4.0 Desired State Configuration Local Configuration Manager (LCM)</span><span class="sxs-lookup"><span data-stu-id="b1b10-103">Windows PowerShell 4.0 Desired State Configuration Local Configuration Manager (LCM)</span></span>

><span data-ttu-id="b1b10-104">Van toepassing op: Windows PowerShell 4.0</span><span class="sxs-lookup"><span data-stu-id="b1b10-104">Applies To: Windows PowerShell 4.0</span></span>

<span data-ttu-id="b1b10-105">Lokale Configuration Manager is de engine voor Windows PowerShell Desired State Configuration (DSC).</span><span class="sxs-lookup"><span data-stu-id="b1b10-105">Local Configuration Manager is the Windows PowerShell Desired State Configuration (DSC) engine.</span></span>
<span data-ttu-id="b1b10-106">Deze wordt uitgevoerd op alle doelknooppunten en is verantwoordelijk voor het aanroepen van de configuratie-resources die zijn opgenomen in een DSC-configuratiescript.</span><span class="sxs-lookup"><span data-stu-id="b1b10-106">It runs on all target nodes, and it is responsible for calling the configuration resources that are included in a DSC configuration script.</span></span>
<span data-ttu-id="b1b10-107">Dit onderwerp worden de eigenschappen van de lokale Configuration Manager en wordt beschreven hoe u de instellingen van de lokale Configuration Manager op een doelknooppunt kunt wijzigen.</span><span class="sxs-lookup"><span data-stu-id="b1b10-107">This topic lists the properties of Local Configuration Manager and describes how you can modify the Local Configuration Manager settings on a target node.</span></span>

## <a name="local-configuration-manager-properties"></a><span data-ttu-id="b1b10-108">Eigenschappen van lokale Configuration Manager</span><span class="sxs-lookup"><span data-stu-id="b1b10-108">Local Configuration Manager properties</span></span>

<span data-ttu-id="b1b10-109">Hieronder vindt u de lokale Configuration Manager-eigenschappen die u kunt instellen of ophalen.</span><span class="sxs-lookup"><span data-stu-id="b1b10-109">The following lists the Local Configuration Manager properties that you can set or retrieve.</span></span>

- <span data-ttu-id="b1b10-110">**AllowModuleOverwrite**: bepaalt of nieuwe configuraties van de configuration-service zijn mogen gedownload naar de oude versie in het doelknooppunt te overschrijven.</span><span class="sxs-lookup"><span data-stu-id="b1b10-110">**AllowModuleOverwrite**: Controls whether new configurations downloaded from the configuration service are allowed to overwrite the old ones on the target node.</span></span> <span data-ttu-id="b1b10-111">Mogelijke waarden zijn True en False.</span><span class="sxs-lookup"><span data-stu-id="b1b10-111">Possible values are True and False.</span></span>
- <span data-ttu-id="b1b10-112">**CertificateID**: de vingerafdruk van een certificaat gebruikt voor het beveiligen van referenties doorgegeven in een configuratie.</span><span class="sxs-lookup"><span data-stu-id="b1b10-112">**CertificateID**: The thumbprint of a certificate used to secure credentials passed in a configuration.</span></span> <span data-ttu-id="b1b10-113">Zie voor meer informatie [wilt beveiligen van referenties in Windows PowerShell Desired State Configuration?](http://blogs.msdn.com/b/powershell/archive/2014/01/31/want-to-secure-credentials-in-windows-powershell-desired-state-configuration.aspx).</span><span class="sxs-lookup"><span data-stu-id="b1b10-113">For more information see [Want to secure credentials in Windows PowerShell Desired State Configuration?](http://blogs.msdn.com/b/powershell/archive/2014/01/31/want-to-secure-credentials-in-windows-powershell-desired-state-configuration.aspx).</span></span>
- <span data-ttu-id="b1b10-114">**ConfigurationID**: geeft een GUID die wordt gebruikt voor het ophalen van een specifieke configuratie-bestand van een pull-service.</span><span class="sxs-lookup"><span data-stu-id="b1b10-114">**ConfigurationID**: Indicates a GUID which is used to get a particular configuration file from a pull service.</span></span> <span data-ttu-id="b1b10-115">De GUID zorgt ervoor dat de juiste configuratie-bestand wordt geopend.</span><span class="sxs-lookup"><span data-stu-id="b1b10-115">The GUID ensures that the correct configuration file is accessed.</span></span>
- <span data-ttu-id="b1b10-116">**ConfigurationMode**: Hiermee geeft u op hoe de lokale Configuration Manager daadwerkelijk geldt de configuratie voor de doelknooppunten.</span><span class="sxs-lookup"><span data-stu-id="b1b10-116">**ConfigurationMode**: Specifies how the Local Configuration Manager actually applies the configuration to the target nodes.</span></span> <span data-ttu-id="b1b10-117">Het kan duren voordat de volgende waarden:</span><span class="sxs-lookup"><span data-stu-id="b1b10-117">It can take the following values:</span></span>
  - <span data-ttu-id="b1b10-118">**ApplyOnly**: met deze optie DSC geldt de configuratie en doet niets meer tenzij u een nieuwe configuratie wordt gedetecteerd, door u voor het verzenden van een nieuwe configuratie rechtstreeks naar het doelknooppunt of als u een verbinding met een pull-service en DSC een nieuwe configuratie detecteert wanneer er wordt gecontroleerd met de pull-service.</span><span class="sxs-lookup"><span data-stu-id="b1b10-118">**ApplyOnly**: With this option, DSC applies the configuration and does nothing further unless a new configuration is detected, either by you sending a new configuration directly to the target node or if you are connecting to a pull service and DSC discovers a new configuration when it checks with the pull service.</span></span> <span data-ttu-id="b1b10-119">Als het doelknooppunt configuratie drifts, wordt geen actie ondernomen.</span><span class="sxs-lookup"><span data-stu-id="b1b10-119">If the target node’s configuration drifts, no action is taken.</span></span>
  - <span data-ttu-id="b1b10-120">**ApplyAndMonitor**: met deze optie (dit is de standaardinstelling), DSC eventuele nieuwe configuraties van toepassing of door u rechtstreeks naar het doelknooppunt verzonden of op een pull-service gedetecteerd.</span><span class="sxs-lookup"><span data-stu-id="b1b10-120">**ApplyAndMonitor**: With this option (which is the default), DSC applies any new configurations, whether sent by you directly to the target node or discovered on a pull service.</span></span> <span data-ttu-id="b1b10-121">Als de configuratie van het doelknooppunt drifts uit het configuratiebestand, rapporten DSC daarna het verschil in Logboeken.</span><span class="sxs-lookup"><span data-stu-id="b1b10-121">Thereafter, if the configuration of the target node drifts from the configuration file, DSC reports the discrepancy in logs.</span></span> <span data-ttu-id="b1b10-122">Zie voor meer informatie over logboekregistratie van het DSC [met behulp van gebeurtenislogboeken fouten opsporen in Desired State Configuration](http://blogs.msdn.com/b/powershell/archive/2014/01/03/using-event-logs-to-diagnose-errors-in-desired-state-configuration.aspx).</span><span class="sxs-lookup"><span data-stu-id="b1b10-122">For more about DSC logging, see [Using Event Logs to Diagnose Errors in Desired State Configuration](http://blogs.msdn.com/b/powershell/archive/2014/01/03/using-event-logs-to-diagnose-errors-in-desired-state-configuration.aspx).</span></span>
  - <span data-ttu-id="b1b10-123">**ApplyAndAutoCorrect**: met deze optie DSC van toepassing is een nieuwe configuraties of door u rechtstreeks naar het doelknooppunt verzonden of op een pull-service gedetecteerd.</span><span class="sxs-lookup"><span data-stu-id="b1b10-123">**ApplyAndAutoCorrect**: With this option, DSC applies any new configurations, whether sent by you directly to the target node or discovered on a pull service.</span></span> <span data-ttu-id="b1b10-124">Daarna, als de configuratie van het doelknooppunt drifts uit het configuratiebestand, DSC rapporteert het verschil in Logboeken en probeert vervolgens de configuratie van het doel te brengen in overeenstemming met het configuratiebestand aanpassen.</span><span class="sxs-lookup"><span data-stu-id="b1b10-124">Thereafter, if the configuration of the target node drifts from the configuration file, DSC reports the discrepancy in logs, and then attempts to adjust the target node configuration to bring in compliance with the configuration file.</span></span>
- <span data-ttu-id="b1b10-125">**ConfigurationModeFrequencyMins**: vertegenwoordigt de frequentie (in minuten) waarmee de achtergrondtoepassing van DSC probeert de huidige configuratie in het doelknooppunt te implementeren.</span><span class="sxs-lookup"><span data-stu-id="b1b10-125">**ConfigurationModeFrequencyMins**: Represents the frequency (in minutes) at which the background application of DSC attempts to implement the current configuration on the target node.</span></span> <span data-ttu-id="b1b10-126">De standaardwaarde is 15.</span><span class="sxs-lookup"><span data-stu-id="b1b10-126">The default value is 15.</span></span> <span data-ttu-id="b1b10-127">Deze waarde kan worden ingesteld in combinatie met RefreshMode.</span><span class="sxs-lookup"><span data-stu-id="b1b10-127">This value can be set in conjunction with RefreshMode.</span></span> <span data-ttu-id="b1b10-128">Wanneer RefreshMode is ingesteld op PULL, wordt het doelknooppunt neemt contact op met de configuration-service op basis van een interval instellen door RefreshFrequencyMins en downloadt de huidige configuratie.</span><span class="sxs-lookup"><span data-stu-id="b1b10-128">When RefreshMode is set to PULL, the target node contacts the configuration service at an interval set by RefreshFrequencyMins and downloads the current configuration.</span></span> <span data-ttu-id="b1b10-129">Ongeacht de waarde RefreshMode geldt de engine voor consistentie met het interval dat is ingesteld door ConfigurationModeFrequencyMins, de meest recente configuratie die is gedownload naar het doelknooppunt.</span><span class="sxs-lookup"><span data-stu-id="b1b10-129">Regardless of the RefreshMode value, at the interval set by ConfigurationModeFrequencyMins, the consistency engine applies the latest configuration that was downloaded to the target node.</span></span> <span data-ttu-id="b1b10-130">RefreshFrequencyMins moet worden ingesteld op een geheel getal veelvoud van ConfigurationModeFrequencyMins.</span><span class="sxs-lookup"><span data-stu-id="b1b10-130">RefreshFrequencyMins should be set to an integer multiple of ConfigurationModeFrequencyMins.</span></span>
- <span data-ttu-id="b1b10-131">**Referentie**: Hiermee wordt aangegeven referenties (zoals met Get-Credential) vereist voor toegang tot externe resources, zoals contact opnemen met de configuration-service.</span><span class="sxs-lookup"><span data-stu-id="b1b10-131">**Credential**: Indicates credentials (as with Get-Credential) required to access remote resources, such as to contact the configuration service.</span></span>
- <span data-ttu-id="b1b10-132">**DownloadManagerCustomData**: Hiermee geeft u een matrix met aangepaste gegevens die specifiek zijn voor het Downloadbeheer.</span><span class="sxs-lookup"><span data-stu-id="b1b10-132">**DownloadManagerCustomData**: Represents an array that contains custom data specific to the download manager.</span></span>
- <span data-ttu-id="b1b10-133">**DownloadManagerName**: geeft de naam van de configuratie en de module Downloadbeheer.</span><span class="sxs-lookup"><span data-stu-id="b1b10-133">**DownloadManagerName**: Indicates the name of the configuration and module download manager.</span></span>
- <span data-ttu-id="b1b10-134">**RebootNodeIfNeeded**: bepaalde configuratiewijzigingen op een doelknooppunt mogelijk moet u deze opnieuw worden opgestart voordat de wijzigingen worden toegepast.</span><span class="sxs-lookup"><span data-stu-id="b1b10-134">**RebootNodeIfNeeded**: Certain configuration changes on a target node might require it to be restarted for the changes to be applied.</span></span> <span data-ttu-id="b1b10-135">Met de waarde **True**, wordt deze eigenschap opnieuw opstarten van het knooppunt zodra de configuratie is volledig van toepassing is, zonder verdere waarschuwing.</span><span class="sxs-lookup"><span data-stu-id="b1b10-135">With the value **True**, this property will restart the node as soon as the configuration has been completely applies, without further warning.</span></span> <span data-ttu-id="b1b10-136">Als **False** (de standaardwaarde), de configuratie wordt voltooid, maar het knooppunt moet handmatig opnieuw worden gestart om de wijzigingen van kracht te laten worden.</span><span class="sxs-lookup"><span data-stu-id="b1b10-136">If **False** (the default value), the configuration will be completed, but the node must be restarted manually for the changes to take effect.</span></span>
- <span data-ttu-id="b1b10-137">**RefreshFrequencyMins**: gebruikt wanneer u een pull-service hebt ingesteld.</span><span class="sxs-lookup"><span data-stu-id="b1b10-137">**RefreshFrequencyMins**: Used when you have set up a pull service.</span></span> <span data-ttu-id="b1b10-138">Vertegenwoordigt de frequentie (in minuten) waarmee de lokale Configuration Manager contact moet een pull-service opnemen voor het downloaden van de huidige configuratie.</span><span class="sxs-lookup"><span data-stu-id="b1b10-138">Represents the frequency (in minutes) at which the Local Configuration Manager contacts a pull service to download the current configuration.</span></span> <span data-ttu-id="b1b10-139">Deze waarde kan worden ingesteld in combinatie met ConfigurationModeFrequencyMins.</span><span class="sxs-lookup"><span data-stu-id="b1b10-139">This value can be set in conjunction with ConfigurationModeFrequencyMins.</span></span> <span data-ttu-id="b1b10-140">Wanneer RefreshMode is ingesteld op PULL, wordt het doelknooppunt neemt contact op met de pull-service op basis van een interval instellen door RefreshFrequencyMins en downloadt de huidige configuratie.</span><span class="sxs-lookup"><span data-stu-id="b1b10-140">When RefreshMode is set to PULL, the target node contacts the pull service at an interval set by RefreshFrequencyMins and downloads the current configuration.</span></span> <span data-ttu-id="b1b10-141">De engine voor consistentie met het interval is ingesteld door ConfigurationModeFrequencyMins, wordt de meest recente configuratie die is gedownload naar het doelknooppunt toegepast.</span><span class="sxs-lookup"><span data-stu-id="b1b10-141">At the interval set by ConfigurationModeFrequencyMins, the consistency engine then applies the latest configuration that was downloaded to the target node.</span></span> <span data-ttu-id="b1b10-142">Als RefreshFrequencyMins niet is ingesteld op een geheel getal veelvoud van ConfigurationModeFrequencyMins, het systeem wordt het naar boven afronden.</span><span class="sxs-lookup"><span data-stu-id="b1b10-142">If RefreshFrequencyMins is not set to an integer multiple of ConfigurationModeFrequencyMins, the system will round it up.</span></span> <span data-ttu-id="b1b10-143">De standaardwaarde is 30.</span><span class="sxs-lookup"><span data-stu-id="b1b10-143">The default value is 30.</span></span>
- <span data-ttu-id="b1b10-144">**RefreshMode**: mogelijke waarden zijn **Push** (de standaardinstelling) en **Pull**.</span><span class="sxs-lookup"><span data-stu-id="b1b10-144">**RefreshMode**: Possible values are **Push** (the default) and **Pull**.</span></span> <span data-ttu-id="b1b10-145">In de configuratie van 'push', moet u een configuratiebestand op elk doelknooppunt plaatsen vanaf elke clientcomputer.</span><span class="sxs-lookup"><span data-stu-id="b1b10-145">In the “push” configuration, you must place a configuration file on each target node, using any client computer.</span></span> <span data-ttu-id="b1b10-146">In de modus 'pull', moet u een pull-service voor lokale Configuration Manager contact opnemen met en toegang tot de configuratiebestanden instellen.</span><span class="sxs-lookup"><span data-stu-id="b1b10-146">In the “pull” mode, you must set up a pull service for Local Configuration Manager to contact and access the configuration files.</span></span>

### <a name="example-of-updating-local-configuration-manager-settings"></a><span data-ttu-id="b1b10-147">Voorbeeld van de lokale Configuration Manager-instellingen bijwerken</span><span class="sxs-lookup"><span data-stu-id="b1b10-147">Example of updating Local Configuration Manager settings</span></span>

<span data-ttu-id="b1b10-148">U kunt de lokale Configuration Manager-instellingen van een doelknooppunt bijwerken door een **LocalConfigurationManager** blokkeren binnen het blok knooppunt in een configuratiescript, zoals wordt weergegeven in het volgende voorbeeld.</span><span class="sxs-lookup"><span data-stu-id="b1b10-148">You can update the Local Configuration Manager settings of a target node by including a **LocalConfigurationManager** block inside the node block in a configuration script, as shown in the following example.</span></span>

```powershell
Configuration ExampleConfig
{
    Node “Server001”
    {
        LocalConfigurationManager
        {
            ConfigurationID = "646e48cb-3082-4a12-9fd9-f71b9a562d4e"
            ConfigurationModeFrequencyMins = 45
            ConfigurationMode = "ApplyAndAutocorrect"
            RefreshMode = "Pull"
            RefreshFrequencyMins = 90
            DownloadManagerName = "WebDownloadManager"
            DownloadManagerCustomData = (@{ServerUrl="https://$PullService/psdscpullserver.svc"})
            CertificateID = "71AA68562316FE3F73536F1096B85D66289ED60E"
            Credential = $cred
            RebootNodeIfNeeded = $true
            AllowModuleOverwrite = $false
        }
# One or more resource blocks can be added here
    }
}

# The following line invokes the configuration and creates a file called Server001.meta.mof at the specified path
ExampleConfig -OutputPath "c:\users\public\dsc"
```

<span data-ttu-id="b1b10-149">Het script uitgevoerd in het vorige voorbeeld, genereert een MOF-bestand dat Hiermee geeft u en de gewenste instellingen worden opgeslagen.</span><span class="sxs-lookup"><span data-stu-id="b1b10-149">Running the script in the previous example generates a MOF file that specifies and stores the desired settings.</span></span>
<span data-ttu-id="b1b10-150">Om de instellingen toepast, kunt u de **Set DscLocalConfigurationManager** cmdlet, zoals weergegeven in het volgende voorbeeld.</span><span class="sxs-lookup"><span data-stu-id="b1b10-150">To apply the settings, you can use the **Set-DscLocalConfigurationManager** cmdlet, as shown in the following example.</span></span>

```powershell
Set-DscLocalConfigurationManager -Path "c:\users\public\dsc"
```

> <span data-ttu-id="b1b10-151">**Opmerking**: voor de **pad** parameter, moet u hetzelfde pad dat u hebt opgegeven voor de **OutputPath** parameter bij het aanroepen van de configuratie in het vorige voorbeeld.</span><span class="sxs-lookup"><span data-stu-id="b1b10-151">**Note**: For the **Path** parameter, you must specify the same path that you specified for the **OutputPath** parameter when you invoked the configuration in the previous example.</span></span>

<span data-ttu-id="b1b10-152">Overzicht van de huidige instellingen van de lokale Configuration Manager, kunt u de **Get-DscLocalConfigurationManager** cmdlet.</span><span class="sxs-lookup"><span data-stu-id="b1b10-152">To see the current Local Configuration Manager settings, you can use the **Get-DscLocalConfigurationManager** cmdlet.</span></span>
<span data-ttu-id="b1b10-153">Als u deze cmdlet zonder parameters aanroept, krijgt het standaard maar de lokale Configuration Manager-instellingen voor het knooppunt waarop u het uitvoert.</span><span class="sxs-lookup"><span data-stu-id="b1b10-153">If you invoke this cmdlet with no parameters, by default it will get the Local Configuration Manager settings for the node on which you run it.</span></span>
<span data-ttu-id="b1b10-154">Een ander knooppunt, gebruikt u de **CimSession** parameter met deze cmdlet.</span><span class="sxs-lookup"><span data-stu-id="b1b10-154">To specify another node, use the **CimSession** parameter with this cmdlet.</span></span>
