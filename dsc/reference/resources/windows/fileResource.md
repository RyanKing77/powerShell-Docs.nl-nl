---
ms.date: 06/12/2017
keywords: DSC, powershell, configuratie en installatie
title: DSC-Bestandsresource
ms.openlocfilehash: b5bc2c305b8cfccbd044274811df631264a24279
ms.sourcegitcommit: b6871f21bd666f9cd71dd336bb3f844cf472b56c
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 02/03/2019
ms.locfileid: "55688425"
---
# <a name="dsc-file-resource"></a><span data-ttu-id="a132f-103">DSC-Bestandsresource</span><span class="sxs-lookup"><span data-stu-id="a132f-103">DSC File Resource</span></span>

> <span data-ttu-id="a132f-104">Van toepassing op: Windows PowerShell 4.0, Windows PowerShell 5.0</span><span class="sxs-lookup"><span data-stu-id="a132f-104">Applies To: Windows PowerShell 4.0, Windows PowerShell 5.0</span></span>

<span data-ttu-id="a132f-105">De resource van het bestand in Windows PowerShell Desired State Configuration (DSC) biedt een mechanisme voor het beheren van bestanden en mappen op het doelknooppunt.</span><span class="sxs-lookup"><span data-stu-id="a132f-105">The File resource in Windows PowerShell Desired State Configuration (DSC) provides a mechanism to manage files and folders on the target node.</span></span> <span data-ttu-id="a132f-106">De **doelpad** en **bronpad** moeten beide toegankelijk zijn via het doel-knooppunt.</span><span class="sxs-lookup"><span data-stu-id="a132f-106">The **DestinationPath** and **SourcePath** must both be accessible by the target Node.</span></span>

## <a name="syntax"></a><span data-ttu-id="a132f-107">Syntaxis</span><span class="sxs-lookup"><span data-stu-id="a132f-107">Syntax</span></span>

```
File [string] #ResourceName
{
    DestinationPath = [string]
    [ Attributes = [string[]] { Archive | Hidden | ReadOnly | System }]
    [ Checksum = [string] { CreatedDate | ModifiedDate | SHA-1 | SHA-256 | SHA-512 } ]
    [ Contents = [string] ]
    [ Credential = [PSCredential] ]
    [ Ensure = [string] { Absent | Present } ]
    [ Force = [bool] ]
    [ Recurse = [bool] ]
    [ DependsOn = [string[]] ]
    [ SourcePath = [string] ]
    [ Type = [string] { Directory | File } ]
    [ MatchSource = [bool] ]
}
```

## <a name="properties"></a><span data-ttu-id="a132f-108">Eigenschappen</span><span class="sxs-lookup"><span data-stu-id="a132f-108">Properties</span></span>

|<span data-ttu-id="a132f-109">Eigenschap</span><span class="sxs-lookup"><span data-stu-id="a132f-109">Property</span></span>       |<span data-ttu-id="a132f-110">Beschrijving</span><span class="sxs-lookup"><span data-stu-id="a132f-110">Description</span></span>                                                                   |<span data-ttu-id="a132f-111">Vereist</span><span class="sxs-lookup"><span data-stu-id="a132f-111">Required</span></span>|<span data-ttu-id="a132f-112">Standaard</span><span class="sxs-lookup"><span data-stu-id="a132f-112">Default</span></span>|
|---------------|------------------------------------------------------------------------------|--------|-------|
|<span data-ttu-id="a132f-113">DestinationPath</span><span class="sxs-lookup"><span data-stu-id="a132f-113">DestinationPath</span></span>|<span data-ttu-id="a132f-114">De locatie op het doelknooppunt die u wilt ervoor zorgen is `Present` of `Absent`.</span><span class="sxs-lookup"><span data-stu-id="a132f-114">The location, on the target node, you want to ensure is `Present` or `Absent`.</span></span>|<span data-ttu-id="a132f-115">Ja</span><span class="sxs-lookup"><span data-stu-id="a132f-115">Yes</span></span>|<span data-ttu-id="a132f-116">Nee</span><span class="sxs-lookup"><span data-stu-id="a132f-116">No</span></span>|
|<span data-ttu-id="a132f-117">Kenmerken</span><span class="sxs-lookup"><span data-stu-id="a132f-117">Attributes</span></span>     |<span data-ttu-id="a132f-118">De gewenste status van de kenmerken voor het betreffende bestand of map.</span><span class="sxs-lookup"><span data-stu-id="a132f-118">The desired state of the attributes for the targeted file or directory.</span></span> <span data-ttu-id="a132f-119">Geldige waarden zijn **archief**, **verborgen**, **ReadOnly**, en **System**.</span><span class="sxs-lookup"><span data-stu-id="a132f-119">Valid values are **Archive**, **Hidden**, **ReadOnly**, and **System**.</span></span>|<span data-ttu-id="a132f-120">Nee</span><span class="sxs-lookup"><span data-stu-id="a132f-120">No</span></span>|<span data-ttu-id="a132f-121">Geen</span><span class="sxs-lookup"><span data-stu-id="a132f-121">None</span></span>|
|<span data-ttu-id="a132f-122">Controlesom</span><span class="sxs-lookup"><span data-stu-id="a132f-122">Checksum</span></span>      |<span data-ttu-id="a132f-123">Het type van de controlesom te gebruiken bij het bepalen of twee bestanden hetzelfde zijn.</span><span class="sxs-lookup"><span data-stu-id="a132f-123">The checksum type to use when determining whether two files are the same.</span></span> <span data-ttu-id="a132f-124">Geldige waarden zijn: SHA-1, SHA-256, SHA-512, createdDate, modifiedDate.</span><span class="sxs-lookup"><span data-stu-id="a132f-124">Valid values include: SHA-1, SHA-256, SHA-512, createdDate, modifiedDate.</span></span>|<span data-ttu-id="a132f-125">Nee</span><span class="sxs-lookup"><span data-stu-id="a132f-125">No</span></span>|<span data-ttu-id="a132f-126">Alleen de naam van bestand of map wordt vergeleken.</span><span class="sxs-lookup"><span data-stu-id="a132f-126">Only the file or directory name is compared.</span></span>|
|<span data-ttu-id="a132f-127">Inhoud</span><span class="sxs-lookup"><span data-stu-id="a132f-127">Contents</span></span>       |<span data-ttu-id="a132f-128">Alleen geldig in combinatie met `File` type.</span><span class="sxs-lookup"><span data-stu-id="a132f-128">Only valid when used with `File` type.</span></span> <span data-ttu-id="a132f-129">Hiermee geeft u de inhoud naar Zorg ervoor dat zijn `Present` of `Absent` van het doelbestand.</span><span class="sxs-lookup"><span data-stu-id="a132f-129">Indicates the contents to Ensure are `Present` or `Absent` from the targeted file.</span></span> |<span data-ttu-id="a132f-130">Nee</span><span class="sxs-lookup"><span data-stu-id="a132f-130">No</span></span>|<span data-ttu-id="a132f-131">Geen</span><span class="sxs-lookup"><span data-stu-id="a132f-131">None</span></span>|
|<span data-ttu-id="a132f-132">Referentie</span><span class="sxs-lookup"><span data-stu-id="a132f-132">Credential</span></span>     |<span data-ttu-id="a132f-133">De referenties die vereist voor toegang tot resources, zoals de bronbestanden zijn.</span><span class="sxs-lookup"><span data-stu-id="a132f-133">The credentials that are required to access resources, such as source files.</span></span>|<span data-ttu-id="a132f-134">Nee</span><span class="sxs-lookup"><span data-stu-id="a132f-134">No</span></span>|<span data-ttu-id="a132f-135">Het computeraccount van het doelknooppunt.</span><span class="sxs-lookup"><span data-stu-id="a132f-135">The target node's Computer Account.</span></span> <span data-ttu-id="a132f-136">(*Zie Opmerking*)</span><span class="sxs-lookup"><span data-stu-id="a132f-136">(*see note*)</span></span>|
|<span data-ttu-id="a132f-137">Zorg ervoor dat</span><span class="sxs-lookup"><span data-stu-id="a132f-137">Ensure</span></span>         |<span data-ttu-id="a132f-138">De gewenste status van het doelbestand of map.</span><span class="sxs-lookup"><span data-stu-id="a132f-138">The desired state of the target file or directory.</span></span> |<span data-ttu-id="a132f-139">Nee</span><span class="sxs-lookup"><span data-stu-id="a132f-139">No</span></span>|<span data-ttu-id="a132f-140">**Aanwezig**</span><span class="sxs-lookup"><span data-stu-id="a132f-140">**Present**</span></span>|
|<span data-ttu-id="a132f-141">Force</span><span class="sxs-lookup"><span data-stu-id="a132f-141">Force</span></span>          |<span data-ttu-id="a132f-142">Bewerkingen voor gegevenstoegang die in een fout resulteren zouden (zoals een bestand te overschrijven of verwijderen van een directory die is niet leeg) vervangt.</span><span class="sxs-lookup"><span data-stu-id="a132f-142">Overrides access operations that would result in an error (such as overwriting a file or deleting a directory that is not empty).</span></span>|<span data-ttu-id="a132f-143">Nee</span><span class="sxs-lookup"><span data-stu-id="a132f-143">No</span></span>|`$false`|
|<span data-ttu-id="a132f-144">Recurse</span><span class="sxs-lookup"><span data-stu-id="a132f-144">Recurse</span></span>        |<span data-ttu-id="a132f-145">Alleen geldig in combinatie met `Directory` type.</span><span class="sxs-lookup"><span data-stu-id="a132f-145">Only valid when used with `Directory` type.</span></span> <span data-ttu-id="a132f-146">Voert de recursief status bewerking op alle submappen.</span><span class="sxs-lookup"><span data-stu-id="a132f-146">Performs the state operation recursively to all subdirectories.</span></span>|<span data-ttu-id="a132f-147">Nee</span><span class="sxs-lookup"><span data-stu-id="a132f-147">No</span></span>|`$false`|
|<span data-ttu-id="a132f-148">DependsOn</span><span class="sxs-lookup"><span data-stu-id="a132f-148">DependsOn</span></span>      |<span data-ttu-id="a132f-149">Hiermee stelt u een afhankelijkheid op de opgegeven resource (s).</span><span class="sxs-lookup"><span data-stu-id="a132f-149">Sets a dependency on specified resource(s).</span></span> <span data-ttu-id="a132f-150">Deze bron wordt alleen uitgevoerd na voltooiing van uitvoering van alle afhankelijke resources.</span><span class="sxs-lookup"><span data-stu-id="a132f-150">This resource will only execute after successful execution of any dependent resources.</span></span> <span data-ttu-id="a132f-151">U kunt opgeven dat afhankelijke resources met behulp van de syntaxis van de `"[ResourceType]ResourceName"`.</span><span class="sxs-lookup"><span data-stu-id="a132f-151">You can specify dependent resources using the syntax `"[ResourceType]ResourceName"`.</span></span> <span data-ttu-id="a132f-152">Zie [about_DependsOn](../../../configurations/resource-depends-on.md)</span><span class="sxs-lookup"><span data-stu-id="a132f-152">See [about_DependsOn](../../../configurations/resource-depends-on.md)</span></span>|<span data-ttu-id="a132f-153">Nee</span><span class="sxs-lookup"><span data-stu-id="a132f-153">No</span></span>|<span data-ttu-id="a132f-154">Geen</span><span class="sxs-lookup"><span data-stu-id="a132f-154">None</span></span>|
|<span data-ttu-id="a132f-155">SourcePath</span><span class="sxs-lookup"><span data-stu-id="a132f-155">SourcePath</span></span>     |<span data-ttu-id="a132f-156">Het pad van waaruit de resource van het bestand of map kopiëren.</span><span class="sxs-lookup"><span data-stu-id="a132f-156">The path from which to copy the file or folder resource.</span></span>|<span data-ttu-id="a132f-157">Nee</span><span class="sxs-lookup"><span data-stu-id="a132f-157">No</span></span>|<span data-ttu-id="a132f-158">Geen</span><span class="sxs-lookup"><span data-stu-id="a132f-158">None</span></span>|
|<span data-ttu-id="a132f-159">Type</span><span class="sxs-lookup"><span data-stu-id="a132f-159">Type</span></span>           |<span data-ttu-id="a132f-160">Het type resource wordt geconfigureerd.</span><span class="sxs-lookup"><span data-stu-id="a132f-160">The type of resource being configured.</span></span> <span data-ttu-id="a132f-161">Geldige waarden zijn `Directory` en `File`.</span><span class="sxs-lookup"><span data-stu-id="a132f-161">Valid values are `Directory` and `File`.</span></span>|<span data-ttu-id="a132f-162">Nee</span><span class="sxs-lookup"><span data-stu-id="a132f-162">No</span></span>|`File`|
|<span data-ttu-id="a132f-163">MatchSource</span><span class="sxs-lookup"><span data-stu-id="a132f-163">MatchSource</span></span>    |<span data-ttu-id="a132f-164">Hiermee bepaalt u als de resource voor nieuwe bestanden die zijn toegevoegd aan de bronmap na de eerste kopie controleren moet.</span><span class="sxs-lookup"><span data-stu-id="a132f-164">Determines if the resource should monitor for new files added to the source directory after the initial copy.</span></span> <span data-ttu-id="a132f-165">Een waarde van `$true` geeft aan dat na de eerste kopie een nieuwe bronbestanden moeten worden gekopieerd naar de bestemming.</span><span class="sxs-lookup"><span data-stu-id="a132f-165">A value of `$true` indicates that, after the initial copy, any new source files should be copied to the destination.</span></span> <span data-ttu-id="a132f-166">Indien ingesteld op `$False`, de resource in de cache opgeslagen inhoud van de bronmap en negeert alle bestanden die zijn toegevoegd na de eerste kopie.</span><span class="sxs-lookup"><span data-stu-id="a132f-166">If set to `$False`, the resource caches the contents of the source directory and ignores any files added after the initial copy.</span></span>|<span data-ttu-id="a132f-167">Nee</span><span class="sxs-lookup"><span data-stu-id="a132f-167">No</span></span>|`$false`|

> [!WARNING]
> <span data-ttu-id="a132f-168">Als u een waarde op voor geen opgeeft `Credential` of `PSRunAsCredential` (PS V.5), de bron wordt het computeraccount van het doelknooppunt gebruiken voor toegang tot de `SourcePath`.</span><span class="sxs-lookup"><span data-stu-id="a132f-168">If you do not specify a value for `Credential` or `PSRunAsCredential` (PS V.5), the resource will use the computer account of the target node to access the `SourcePath`.</span></span>  <span data-ttu-id="a132f-169">Wanneer de `SourcePath` is een UNC-share, kan dit leiden tot een fout "Toegang geweigerd".</span><span class="sxs-lookup"><span data-stu-id="a132f-169">When the `SourcePath` is a UNC share, this could result in an "Access Denied" error.</span></span> <span data-ttu-id="a132f-170">Zorg ervoor dat uw machtigingen zijn ingesteld, of gebruik de `Credential` of `PSRunAsCredential` eigenschappen opgeven voor het account dat moet worden gebruikt.</span><span class="sxs-lookup"><span data-stu-id="a132f-170">Please ensure your permissions are set accordingly, or use the `Credential` or `PSRunAsCredential` properties to specify the account that should be used.</span></span>

## <a name="present-vs-absent"></a><span data-ttu-id="a132f-171">Aanwezig vs. Absent</span><span class="sxs-lookup"><span data-stu-id="a132f-171">Present vs. Absent</span></span>

<span data-ttu-id="a132f-172">Elke DSC-resource voert verschillende bewerkingen op basis van de waarde die u opgeeft voor de `Ensure` eigenschap.</span><span class="sxs-lookup"><span data-stu-id="a132f-172">Each DSC resource performs different operations based on the value you specify for the `Ensure` property.</span></span> <span data-ttu-id="a132f-173">De waarden die u opgeeft voor de bovenstaande eigenschappen bepaalt de status-bewerking is uitgevoerd.</span><span class="sxs-lookup"><span data-stu-id="a132f-173">The values you specify for the above properties determines the state operation performed.</span></span>

### <a name="existence"></a><span data-ttu-id="a132f-174">Bestaan</span><span class="sxs-lookup"><span data-stu-id="a132f-174">Existence</span></span>

<span data-ttu-id="a132f-175">Wanneer u alleen opgeeft een `DestinationPath`, de bron zorgt ervoor dat het pad bestaat (`Present`) of bestaat niet (`Absent`).</span><span class="sxs-lookup"><span data-stu-id="a132f-175">When you only specify a `DestinationPath`, the resource ensures that the path exists (`Present`) or does not exist (`Absent`).</span></span>

### <a name="copy-operations"></a><span data-ttu-id="a132f-176">Kopieerbewerkingen</span><span class="sxs-lookup"><span data-stu-id="a132f-176">Copy Operations</span></span>

<span data-ttu-id="a132f-177">Bij het opgeven van een `SourcePath` en een `DestinationPath` met een `Type` waarde van **Directory**, de bronmap resource-exemplaren naar het doelpad.</span><span class="sxs-lookup"><span data-stu-id="a132f-177">When you specify a `SourcePath` and a `DestinationPath` with a `Type` value of **Directory**, the resource copies source directory to the destination path.</span></span> <span data-ttu-id="a132f-178">De eigenschappen `Recurse`, `Force`, en `MatchSource` Wijzig het type van de kopieerbewerking uitgevoerd, terwijl `Credential` bepaalt welk account moet worden gebruikt voor toegang tot de bronmap.</span><span class="sxs-lookup"><span data-stu-id="a132f-178">The properties `Recurse`, `Force`, and `MatchSource` change the type of copy operation performed, while `Credential` determines which account to use to access the source directory.</span></span>

### <a name="limitations"></a><span data-ttu-id="a132f-179">Beperkingen</span><span class="sxs-lookup"><span data-stu-id="a132f-179">Limitations</span></span>

<span data-ttu-id="a132f-180">Als u een waarde van de opgegeven `ReadOnly` voor de `Attributes` eigenschap naast een `DestinationPath`, `Ensure = "Present"` maakt het pad dat is opgegeven, terwijl `Contents` stelt u de inhoud van het bestand.</span><span class="sxs-lookup"><span data-stu-id="a132f-180">If you specified a value of `ReadOnly` for the `Attributes` property alongside a `DestinationPath`, `Ensure = "Present"` would create the path specified, while `Contents` would set the contents of the file.</span></span>  <span data-ttu-id="a132f-181">Een `Absent` bewerking van de status wilt negeren de `Attributes` eigenschap volledig, en verwijderen van elk bestand in het opgegeven pad.</span><span class="sxs-lookup"><span data-stu-id="a132f-181">An `Absent` state operation would ignore the `Attributes` property entirely, and remove any file at the specified path.</span></span>

## <a name="example"></a><span data-ttu-id="a132f-182">Voorbeeld</span><span class="sxs-lookup"><span data-stu-id="a132f-182">Example</span></span>

<span data-ttu-id="a132f-183">Het volgende voorbeeld wordt een map en submappen van een pull-server naar een doelknooppunt met behulp van de Resource-bestand.</span><span class="sxs-lookup"><span data-stu-id="a132f-183">The following example copies a directory and its subdirectories from a pull server to a target node using the File Resource.</span></span> <span data-ttu-id="a132f-184">Als de bewerking is geslaagd, schrijft de logboekresource een bevestigingsbericht wordt weergegeven in het gebeurtenislogboek.</span><span class="sxs-lookup"><span data-stu-id="a132f-184">If the operation succeeds, the Log resource writes a confirmation message to the event log.</span></span>

<span data-ttu-id="a132f-185">De bronmap is een UNC-pad (`\\PullServer\DemoSource`) gedeeld van de Pull-Server.</span><span class="sxs-lookup"><span data-stu-id="a132f-185">The source directory is a UNC path (`\\PullServer\DemoSource`) shared from the Pull Server.</span></span> <span data-ttu-id="a132f-186">De `Recurse` eigenschap zorgt ervoor dat alle submappen ook worden gekopieerd.</span><span class="sxs-lookup"><span data-stu-id="a132f-186">The `Recurse` property ensures that all subdirectories are copied as well.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="a132f-187">De LCM op de doel-knooppunt wordt uitgevoerd in de context van het lokale systeemaccount gebruikt standaard.</span><span class="sxs-lookup"><span data-stu-id="a132f-187">The LCM on the target Node executes in the context of the local system account by default.</span></span> <span data-ttu-id="a132f-188">Toegang verlenen tot de **bronpad**, het doelknooppunt computeraccount geschikte machtigingen geven.</span><span class="sxs-lookup"><span data-stu-id="a132f-188">To grant access to the **SourcePath**, give the target Node's computer account appropriate permissions.</span></span> <span data-ttu-id="a132f-189">De **referentie** en **PSDSCRunAsCredential** (v5) beide wijzigen van de context de LCM gebruikt voor toegang tot de **bronpad**.</span><span class="sxs-lookup"><span data-stu-id="a132f-189">The **Credential** and **PSDSCRunAsCredential** (v5) both change the context the LCM uses to access the **SourcePath**.</span></span> <span data-ttu-id="a132f-190">U moet nog steeds toegang verlenen tot het account dat wordt gebruikt voor toegang tot de **bronpad**.</span><span class="sxs-lookup"><span data-stu-id="a132f-190">You still need to grant access to the account that will be used to access the **SourcePath**.</span></span>

```powershell
Configuration FileResourceDemo
{
    Node "localhost"
    {
        File DirectoryCopy
        {
            Ensure = "Present" # Ensure the directory is Present on the target node.
            Type = "Directory" # The default is File.
            Recurse = $true # Recursively copy all subdirectories.
            SourcePath = "\\PullServer\DemoSource"
            DestinationPath = "C:\Users\Public\Documents\DSCDemo\DemoDestination"
        }

        Log AfterDirectoryCopy
        {
            # The message below gets written to the Microsoft-Windows-Desired State Configuration/Analytic log
            Message = "Finished running the file resource with ID DirectoryCopy"
            DependsOn = "[File]DirectoryCopy" # Depends on successful execution of the File resource.
        }
    }
}
```

<span data-ttu-id="a132f-191">Voor het gebruik van meer op **referenties** in DSC Zie [uitvoeren als gebruiker](../../../configurations/runAsUser.md) of [Config gegevens referenties](../../../configurations/configDataCredentials.md).</span><span class="sxs-lookup"><span data-stu-id="a132f-191">For more on using **Credentials** in DSC see [Run As User](../../../configurations/runAsUser.md) or [Config Data Credentials](../../../configurations/configDataCredentials.md).</span></span>
